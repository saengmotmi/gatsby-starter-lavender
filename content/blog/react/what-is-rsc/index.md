---
title: 2024-02-23 [AëŠ” B] 1. RSCë€?
date: 2024-02-23
description: RSCë€ ë¬´ì—‡ì¸ê°€ì— ëŒ€í•´ ì§ì ‘ ë‹µì„ ë‚´ë ¤ë³´ë‹¤
tags: [React, Nextjs, Development, RSC, React Server Components]
thumbnail: /thumbnails/hello-world.jpg
---

â€˜ë©´ì ‘ ì§ˆë¬¸ì— ì–´ë–»ê²Œ ë‹µí•˜ë©´ ì¢‹ì„ê¹Œìš”?â€™ ë¼ëŠ” ì§ˆë¬¸ì„ ì¢…ì¢… ë°›ëŠ”ë‹¤. ê·¸ëŸ´ ë•Œë§ˆë‹¤ **â€œAëŠ” Bë‹¤â€** ë¼ê³  ì •ì˜ë¥¼ ë¨¼ì € ë‚´ë¦° í›„ ê·¸ì— ëŒ€í•œ ì¶”ê°€ ì„¤ëª…ì´ë‚˜ ë¹„ìœ , ì‚¬ìš© ê²½í—˜ ë“±ì„ ì´ì–´ì„œ ë‹µë³€í•˜ë¼ê³  ëŒ€ë‹µí•œë‹¤. Bê°€ Aì˜ í•µì‹¬ì ì¸ ë¶€ë¶„ì„ ì •ì˜í•˜ëŠ” ì„œìˆ ì¼ ìˆ˜ë¡ ì´í›„ì— ì´ì–´ë‚˜ê°ˆ ì„¤ëª…ì´ ì‰¬ì›Œì§€ê¸° ë•Œë¬¸ì´ë‹¤. ê·¸ë¦¬ê³  ì´ëŸ¬í•œ ì •ì˜ë¥¼ ì–¼ë§ˆë‚˜ ì í™•í•˜ê²Œ í•˜ëŠ”ê°€ëŠ” ì„¤ëª…í•˜ê³ ì í•˜ëŠ” ëŒ€ìƒì— ëŒ€í•œ ì„œìˆ ìì˜ ì´í•´ ìˆ˜ì¤€ì— ê¹Šê²Œ ì—°ê´€ëœë‹¤.

ë‹¤ë§Œ ê·¸ëŸ° ë°©ë²•ë¡ ì„ ì•„ëŠ” ê²ƒê³¼ ì˜ ì‹¤ì²œí•˜ëŠ” ê±´ ë‹¤ë¥¸ ë¬¸ì œë‹¤. ìµœê·¼ì— ì„¤ëª…í•´ë‹¬ë¼ê³  ìš”ì²­ ë°›ì•˜ë‹¤ê°€ ì„¤ëª…ì˜ ì…êµ¬ë¥¼ ì°¾ì§€ ëª»í–ˆë˜ ê°œë…ì–´ë“¤ì— ëŒ€í•´ ì²œì²œíˆ ì •ë¦¬ë¥¼ í•´ë³´ë ¤ê³  í•œë‹¤. ê·¸ëƒ¥ í•˜ë©´ ì¬ë¯¸ ì—†ìœ¼ë‹ˆ [AëŠ” B] ë¼ëŠ” ì‹œë¦¬ì¦ˆë¡œ ì´ë¦„ì„ ë¶™ì—¬ë³´ì•˜ë‹¤. ë¬¼ë¡  ì‹œì‘í•˜ìë§ˆì ëë‚  ì§€ë„ ëª¨ë¥´ê² ì§€ë§Œâ€¦ í•˜ë‚˜ë¼ë„ í•  ìˆ˜ ìˆë‹¤ë©´ ê·¸ ìì²´ë¡œ ì˜ë¯¸ê°€ ìˆë‹¤ê³  ìƒê°í•œë‹¤.

ì²« ë²ˆì§¸ ì£¼ì œëŠ” `RSC(React Server Components)`ë‹¤. ì•„ë˜ ì •ì˜ëŠ” ì´ ê¸€ì„ ëª¨ë‘ ì‘ì„±í•˜ê³  ë‹¤ì‹œ ëŒì•„ì™€ì„œ ì–»ì€ í•˜ë‚˜ì˜ ë¬¸ì¥ì´ë‹¤.

> ğŸ“– React Server ComponentsëŠ” **1) ì„œë²„ì—ì„œë§Œ ì‹¤í–‰ë˜ëŠ” ì»´í¬ë„ŒíŠ¸**ì´ë©°, **2) RSC Payloadë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì„œë²„ì™€ í´ë¼ì´ì–¸íŠ¸ë¥¼ í†µí•©(w/ ë²ˆë“¤ëŸ¬, ë¼ìš°í„°)í•˜ëŠ” ë Œë”ë§ ë©”ì»¤ë‹ˆì¦˜**ì´ê¸°ë„ í•˜ë‹¤.

ê·¸ëŸ¬ë©´ ì´ì œ ì‹œì‘í•´ë³´ì. Aì—ê²Œë¡œ ë– ë‚˜ëŠ” ì—¬í–‰â€¦ ë ˆì§€ê³ â€¦

## 1. ê³µì‹ ìë£Œì—ì„œ ë¶€í„° ì‹œì‘í•˜ì

ì´ ë¶€ë¶„ë§Œ ì½ê³  ê³§ì¥ ì´í•´ë¥¼ í•˜ê¸°ëŠ” ì–´ë ¤ìš¸ ê²ƒì´ë‹¤. ì´í•´ê°€ ì‰½ê²Œ ë˜ê¸°ë¥¼ ê¸°ëŒ€í•˜ëŠ” í˜•íƒœì˜ ê¸€ì€ ì•„ë‹ˆê³ ... ì›Œë‚™ RSC ë©”ì»¤ë‹ˆì¦˜ì— ëŒ€í•´ì„œ ë¶ˆëª…í™•í•˜ê²Œ ì“°ì—¬ìˆê±°ë‚˜ í˜¹ì€ ì„¤ëª…ì´ ë˜ì–´ ìˆë”ë¼ë„ ì¡°ê°ì¡°ê° í©ì–´ì ¸ ìˆì–´ ì „ì²´ íë¦„ì„ íŒŒì•…í•˜ê¸° ì–´ë ¤ìš´ ê²ƒ ê°™ë‹¤ëŠ” ëŠë‚Œì„ ë°›ì•˜ë‹¤. í•œ êµ°ë°ë‹¤ ëª°ì•„ë’€ë‹¤ ì •ë„ì˜ ì˜ë¯¸ê°€ ìˆì„ ê²ƒ ê°™ë‹¤.

í¼ì§í•œ ê°œë…ì´ë‚˜ ëª‡ëª‡ ë‹¨ì–´ë“¤ë§Œ ë¨¸ë¦¿ì†ì— ë„£ì–´ë‘ê³  `2. ì»¤ë®¤ë‹ˆí‹°ë¡œ ë¶€í„° ì–»ì€ ì—¬ëŸ¬ê°€ì§€ ìë£Œë“¤` ìª½ìœ¼ë¡œ ë„˜ì–´ê°€ëŠ” ê±¸ ì¶”ì²œí•œë‹¤. ì˜¤íˆë ¤ ë§ˆì§€ë§‰ê¹Œì§€ ë‹¤ ì½ê³  ë‚˜ì„œ ë‹¤ì‹œ ëŒì•„ì™€ì„œ 1ì˜ ë‚´ìš©ì„ ì •ë…í•˜ë©´ ì¢€ ë” ì™€ë‹¿ëŠ” ë¶€ë¶„ì´ ìˆì§€ ì•Šì„ê¹Œ ì‹¶ë‹¤.

### 1-1) React Docs

ì¼ë‹¨ ê°€ì¥ ê³µì‹ì ì¸ ìë£Œë¶€í„° ì ‘ê·¼í•´ë³´ì.

ë¦¬ì•¡íŠ¸ ê³µì‹ ë¬¸ì„œì—ì„œ ì„œë²„ ì»´í¬ë„ŒíŠ¸ë¡œ ê²€ìƒ‰í•´ë³´ë©´ ì•„ì§ ì„œë²„ ì»´í¬ë„ŒíŠ¸ì— ëŒ€í•œ ì§ì ‘ì ì¸ ì •ì˜ëŠ” ì—†ê³ , ëŒ€ì‹  ìƒˆë¡­ê²Œ í”„ë¡œì íŠ¸ë¥¼ ì„¸íŒ…í•˜ëŠ” ë°©ë²•ì„ ì•Œë ¤ì£¼ëŠ” ë¶€ë¶„ì—ì„œ ì´ëŸ° [ì–¸ê¸‰](https://react.dev/learn/start-a-new-react-project#bleeding-edge-react-frameworks)ì´ ë‚˜ì˜¨ë‹¤.

> As weâ€™ve explored how to continue improving React, we realized that integrating React more closely with frameworks (specifically, with routing, bundling, and server technologies) is our biggest opportunity to help React users build better apps. The Next.js team has agreed to collaborate with us in researching, developing, integrating, and testing framework-agnostic bleeding-edge React features like [React Server Components.](https://react.dev/blog/2023/03/22/react-labs-what-we-have-been-working-on-march-2023#react-server-components)
>
> (Reactë¥¼ ì§€ì†ì ìœ¼ë¡œ ê°œì„ í•˜ëŠ” ë°©ë²•ì„ ëª¨ìƒ‰í•˜ë©´ì„œ, **Reactë¥¼ í”„ë ˆì„ì›Œí¬(íŠ¹íˆ ë¼ìš°íŒ…, ë²ˆë“¤ë§ ë° ì„œë²„ ê¸°ìˆ )ì™€ ë” ê¸´ë°€í•˜ê²Œ í†µí•©í•˜ëŠ” ê²ƒ**ì´ React ì‚¬ìš©ìê°€ ë” ë‚˜ì€ ì•±ì„ êµ¬ì¶•í•˜ë„ë¡ ë„ìš¸ ìˆ˜ ìˆëŠ” ê°€ì¥ í° ê¸°íšŒë¼ëŠ” ê²ƒì„ ê¹¨ë‹¬ì•˜ìŠµë‹ˆë‹¤. Next.js íŒ€ì€ React ì„œë²„ ì»´í¬ë„ŒíŠ¸ì™€ ê°™ì´ í”„ë ˆì„ì›Œí¬ì— êµ¬ì• ë°›ì§€ ì•ŠëŠ” ìµœì²¨ë‹¨ React ê¸°ëŠ¥ì„ ì—°êµ¬, ê°œë°œ, í†µí•© ë° í…ŒìŠ¤íŠ¸í•˜ëŠ” ë° ìš°ë¦¬ì™€ í˜‘ë ¥í•˜ê¸°ë¡œ í•©ì˜í–ˆìŠµë‹ˆë‹¤.)

ì—¬ê¸°ì„œ ì•Œ ìˆ˜ ìˆëŠ” ì‚¬ì‹¤ì€ ë¦¬ì•¡íŠ¸ëŠ” ì•ìœ¼ë¡œ íŠ¹íˆ **ë¼ìš°íŒ…, ë²ˆë“¤ë§, ì„œë²„ ê¸°ìˆ **ê³¼ ê´€ë ¨í•˜ì—¬ **í”„ë ˆì„ì›Œí¬ì™€ ë°€ì ‘í•˜ê²Œ** ë°œì „í•´ë‚˜ê°ˆ ê²ƒì´ë¼ëŠ” ì , ê·¸ëŸ° íë¦„ ì†ì—ì„œë„ **RSCë¼ëŠ” íŠ¹ì • í”„ë ˆì„ì›Œí¬ì— êµ¬ì• ë°›ì§€ ì•ŠëŠ”, ë©”íƒ€ì ì¸ ë¬´ì–¸ê°€**ë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•œ í”„ë ˆì„ì›Œí¬ê°€ ë§Œë“¤ì–´ì§ˆ ê²ƒì´ë¼ëŠ” ì–¸ê¸‰ ì •ë„ì´ë‹¤.

### 1-2) React Labs: What We've Been Working On â€“ March 2023

ë¦¬ì•¡íŠ¸ íŒ€ì€ ì»¤ë®¤ë‹ˆí‹°ì™€ ì†Œí†µí•˜ê¸° ìœ„í•´ ê³µì‹ ë¸”ë¡œê·¸ë¥¼ ì‘ì„±í•œë‹¤. ê·¸ ì¤‘ RSCì— ëŒ€í•´ ì–¸ê¸‰í•œ ëŒ€ëª©ì´ ìˆë‹¤.

> React Server Components (or RSC) is a **new application architecture** designed by the React team. (https://react.dev/blog/2023/03/22/react-labs-what-we-have-been-working-on-march-2023#react-server-components)

23ë…„ 3ì›”ì— ì‘ì„±ëœ ê¸€ì´ê³  ë²Œì¨ 1ë…„ ê°€ê¹Œì´ ëë‹¤ëŠ” ì‚¬ì‹¤(24.02)ì´ ì†Œë¦„ ë‹ëŠ” ë¶€ë¶„ì´ë‹¤. ëˆˆì— ë„ëŠ” ë¶€ë¶„ì€ `new application architecture` ë¼ëŠ” í‘œí˜„ì´ë‹¤.

ë‹¨ìˆœíˆ ì„œë²„ì—ì„œ ì‹¤í–‰í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ ê°™ì€ ì„¤ëª…ìœ¼ë¡œ ì‹œì‘í•˜ê³  ìˆì§€ ì•Šë‹¤. ì»´í¬ë„ŒíŠ¸ ê·¸ ìì²´ë¥¼ ì˜ë¯¸í•˜ê¸°ë³´ë‹¤ëŠ” **ì„œë²„ ì»´í¬ë„ŒíŠ¸ë¥¼ ì‹¤í–‰í•˜ëŠ” í™˜ê²½ê³¼ ì„¤ê³„ ì² í•™ê¹Œì§€ í¬ê´„**í•˜ëŠ” ì„¤ëª…ìœ¼ë¡œ ë³´ì¸ë‹¤.

ê·¸ë¦¬ê³  ì´ëŸ° ì„¤ëª…ì´ ì´ì–´ì§„ë‹¤.

> we are introducing a new kind of componentâ€”Server Componentsâ€”that run ahead of time and are excluded from your JavaScript bundle. Server Components can run during the build, letting you read from the filesystem or fetch static content. They can also run on the server, letting you access your data layer without having to build an API. You can pass data by props from Server Components to the interactive Client Components in the browser.
>
> (**ë¯¸ë¦¬ ì‹¤í–‰ë˜ê³  ìë°”ìŠ¤í¬ë¦½íŠ¸ ë²ˆë“¤ì—ì„œ ì œì™¸ë˜ëŠ” ìƒˆë¡œìš´ ì¢…ë¥˜ì˜ ì»´í¬ë„ŒíŠ¸**ì¸ ì„œë²„ ì»´í¬ë„ŒíŠ¸ë¥¼ ì†Œê°œí•©ë‹ˆë‹¤. ì„œë²„ ì»´í¬ë„ŒíŠ¸ëŠ” ë¹Œë“œ ì¤‘ì— ì‹¤í–‰ë˜ì–´ íŒŒì¼ ì‹œìŠ¤í…œì—ì„œ ì½ê±°ë‚˜ ì •ì  ì½˜í…ì¸ ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë˜í•œ ì„œë²„ì—ì„œ ì‹¤í–‰í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ APIë¥¼ ë¹Œë“œí•˜ì§€ ì•Šê³ ë„ ë°ì´í„° ë ˆì´ì–´ì— ì•¡ì„¸ìŠ¤í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì„œë²„ ì»´í¬ë„ŒíŠ¸ì—ì„œ ë¸Œë¼ìš°ì €ì˜ ëŒ€í™”í˜• í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ë¡œ Propsë¥¼ í†µí•´ ë°ì´í„°ë¥¼ ì „ë‹¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.)

> RSC combines the simple â€œrequest/responseâ€ mental model of server-centric Multi-Page Apps with the seamless interactivity of client-centric Single-Page Apps, giving you the best of both worlds.
>
> (RSCëŠ” ì„œë²„ ì¤‘ì‹¬ ë©€í‹° í˜ì´ì§€ ì•±ì˜ ë‹¨ìˆœí•œ 'ìš”ì²­/ì‘ë‹µ' ì •ì‹  ëª¨ë¸ê³¼ í´ë¼ì´ì–¸íŠ¸ ì¤‘ì‹¬ ì‹±ê¸€ í˜ì´ì§€ ì•±ì˜ ì›í™œí•œ ìƒí˜¸ ì‘ìš©ì„ ê²°í•©í•˜ì—¬ ë‘ ê°€ì§€ ì¥ì ì„ ëª¨ë‘ ì œê³µí•©ë‹ˆë‹¤.)

ê¸€ì„ ì¢€ ë” ì˜ˆë¯¼í•˜ê²Œ ë¶„í•´í•´ë³´ì. â€˜**ë¯¸ë¦¬ ì‹¤í–‰ë˜ê³  ìë°”ìŠ¤í¬ë¦½íŠ¸ ë²ˆë“¤ì—ì„œ ì œì™¸**ë˜ëŠ” ìƒˆë¡œìš´ ì¢…ë¥˜ì˜ ì»´í¬ë„ŒíŠ¸â€™ëŠ” ë¹„êµì  ì •ì˜ì— ê°€ê¹Œìš´ ë¶€ë¶„ì´ë‹¤.

ê·¸ ì™¸ì˜,

- ì„œë²„ ì»´í¬ë„ŒíŠ¸ëŠ” ë¹Œë“œ ì¤‘ì— ì‹¤í–‰ë˜ì–´ íŒŒì¼ ì‹œìŠ¤í…œì—ì„œ ì½ê±°ë‚˜ ì •ì  ì½˜í…ì¸ ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ìˆë‹¤

- ì„œë²„ì—ì„œ ì‹¤í–‰í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ ë³„ë„ì˜ APIë¥¼ í†µí•˜ì§€ ì•Šê³ ë„ ë°ì´í„° ë ˆì´ì–´(ex. DB)ì— ì•¡ì„¸ìŠ¤í•  ìˆ˜ ìˆë‹¤

- ì„œë²„ ì»´í¬ë„ŒíŠ¸ì—ì„œ ë¸Œë¼ìš°ì €ì˜ ì¸í„°ë ‰í‹°ë¸Œ í•œ í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ë¡œ Propsë¡œ ê°’ì„ ì „ë‹¬ í•  ìˆ˜ ìˆë‹¤

í•˜ëŠ” ë¶€ë¶„ë“¤ì€ ì„œë²„ ì»´í¬ë„ŒíŠ¸ë¥¼ ì‚¬ìš©í•˜ì—¬ â€˜í•  ìˆ˜ ìˆëŠ” ì¼â€™ì— ëŒ€í•œ ì„œìˆ ì´ë¼ê³  í•  ìˆ˜ ìˆë‹¤. ì„œë²„ ì»´í¬ë„ŒíŠ¸ê°€ ë¬´ì—‡ì¸ê°€ì— ëŒ€í•œ ì •ì˜ê¹Œì§€ëŠ” ì•„ë‹ˆë¼ê³  ë´ì•¼ í•œë‹¤. ì¤‘ìš”í•˜ê¸´ í•˜ì§€ë§Œ, ì € ëª©ë¡ìœ¼ë¡œ ë¶€í„° ë‹¤ì‹œ í•œë²ˆ í•µì‹¬ì ì¸ ë­”ê°€ë¥¼ ì¶”ì¶œí•´ë‚´ì•¼ í•œë‹¤ëŠ” ìƒê°ì„ í•´ë³¼ ìˆ˜ ìˆë‹¤.

ë’¤ì–´ ì´ì–´ì§€ëŠ” â€˜ì„œë²„ ì¤‘ì‹¬ MPAì˜ ë‹¨ìˆœí•œ 'Request / Response' ë©˜íƒˆ ëª¨ë¸ê³¼ í´ë¼ì´ì–¸íŠ¸ ì¤‘ì‹¬ SPAì˜ ì›í™œí•œ ìƒí˜¸ ì‘ìš©ì„ ê²°í•©í•˜ì—¬ ë‘ ê°€ì§€ ì¥ì ì„ ëª¨ë‘ ì œê³µâ€™í•œë‹¤ëŠ” ë¬¸ì¥ì€ ì´ 1, 2, 3, 4ë¥¼ í•œë²ˆ ë¬¶ì€ ì„¤ëª…ì¸ ë§Œí¼, ì´ ë¶€ë¶„ì— ì¡°ê¸ˆ ë” ì§‘ì¤‘í•´ë³´ëŠ” ê²ƒë„ ì¢‹ê² ë‹¤. ê¸°ì¡´ í´ë¼ì´ì–¸íŠ¸ ì¤‘ì‹¬ì˜ ë©˜íƒˆ ëª¨ë¸ë§Œì„ ê°€ì§€ê³  ìˆë˜ ë¦¬ì•¡íŠ¸ì— ì„œë²„ ì¤‘ì‹¬ì ì¸ ë©˜íƒˆ ëª¨ë¸ì´ ì¶”ê°€ëœë‹¤ëŠ” ì ì„ ëª…í™•íˆ í•˜ê³  ìˆë‹¤ëŠ”ë° ì˜ì˜ë¥¼ ë‘˜ ìˆ˜ ìˆê² ë‹¤.

### 1-3) react/rfcs (RFC: React Server Components)

ì´ë²ˆì—” ë‘ ê¸€ì—ì„œ ëª¨ë‘ ì–¸ê¸‰ëœ react/rfcs ì˜ [RSC ê´€ë ¨ ë¬¸ì„œ](https://github.com/reactjs/rfcs/blob/main/text/0188-server-components.md#summary)ë¥¼ ì°¸ê³ í•´ë³¼ ì°¨ë¡€ë‹¤. ì›ë¬¸ê³¼ í•¨ê»˜ ì‹£ê³  ì‹¶ì—ˆì§€ë§Œ ë¶„ëŸ‰ ìƒ ë²ˆì—­ë³¸ë§Œ ì‹¤ì–´ë³¸ë‹¤.

> ì´ RFCëŠ” ì„œë²„ ì»´í¬ë„ŒíŠ¸ë¼ëŠ” ê³§ ì¶œì‹œë  Reactì˜ ê¸°ëŠ¥ì— ëŒ€í•´ ì„¤ëª…í•©ë‹ˆë‹¤. ì„œë²„ ì»´í¬ë„ŒíŠ¸ë¥¼ ì‚¬ìš©í•˜ë©´ ê°œë°œìëŠ” **ì„œë²„ì™€ í´ë¼ì´ì–¸íŠ¸ë¥¼ ì•„ìš°ë¥´ëŠ” ì•±ì„ êµ¬ì¶•**í•˜ì—¬ í´ë¼ì´ì–¸íŠ¸ ì¸¡ ì•±ì˜ í’ë¶€í•œ ìƒí˜¸ ì‘ìš©ê³¼ ê¸°ì¡´ ì„œë²„ ë Œë”ë§ì˜ í–¥ìƒëœ ì„±ëŠ¥ì„ ê²°í•©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:
>
> - ì„œë²„ ì»´í¬ë„ŒíŠ¸ëŠ” **ì„œë²„ì—ì„œë§Œ ì‹¤í–‰**ë˜ë©° **ë²ˆë“¤ í¬ê¸°ì— ì „í˜€ ì˜í–¥ì„ ë¯¸ì¹˜ì§€ ì•Š**ìŠµë‹ˆë‹¤. ì½”ë“œê°€ í´ë¼ì´ì–¸íŠ¸ì— ë‹¤ìš´ë¡œë“œë˜ì§€ ì•Šìœ¼ë¯€ë¡œ ë²ˆë“¤ í¬ê¸°ë¥¼ ì¤„ì´ê³  ì‹œì‘ ì‹œê°„ì„ ê°œì„ í•˜ëŠ” ë° ë„ì›€ì´ ë©ë‹ˆë‹¤.
>
> - ì„œë²„ ì»´í¬ë„ŒíŠ¸ëŠ” ë°ì´í„°ë² ì´ìŠ¤, íŒŒì¼ ì‹œìŠ¤í…œ ë˜ëŠ” (ë§ˆì´í¬ë¡œ)ì„œë¹„ìŠ¤ì™€ ê°™ì€ **ì„œë²„ ì¸¡ ë°ì´í„° ì†ŒìŠ¤ì— ì•¡ì„¸ìŠ¤**í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
>
> - ì„œë²„ ì»´í¬ë„ŒíŠ¸ëŠ” í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸, ì¦‰ ê¸°ì¡´ React ì»´í¬ë„ŒíŠ¸ì™€ ì›í™œí•˜ê²Œ í†µí•©ë©ë‹ˆë‹¤.
>
> - ì„œë²„ ì»´í¬ë„ŒíŠ¸ëŠ” ì„œë²„ì—ì„œ ë°ì´í„°ë¥¼ ë¡œë“œí•˜ê³  í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ì— Propsë¡œ ì „ë‹¬í•˜ì—¬ í´ë¼ì´ì–¸íŠ¸ê°€ í˜ì´ì§€ì˜ ì¸í„°ë™í‹°ë¸Œí•œ ë¶€ë¶„ì„ ë Œë”ë§í•  ìˆ˜ ìˆë„ë¡ í•©ë‹ˆë‹¤.
>
> - ì„œë²„ ì»´í¬ë„ŒíŠ¸ëŠ” ë Œë”ë§í•  í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ë¥¼ ë™ì ìœ¼ë¡œ ì„ íƒí•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ **í´ë¼ì´ì–¸íŠ¸ëŠ” í˜ì´ì§€ë¥¼ ë Œë”ë§í•˜ëŠ” ë° í•„ìš”í•œ ìµœì†Œí•œì˜ ì½”ë“œë§Œ ë‹¤ìš´ë¡œë“œ**í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
>
> - ì„œë²„ ì»´í¬ë„ŒíŠ¸ëŠ” ë‹¤ì‹œ ë¡œë“œë  ë•Œ í´ë¼ì´ì–¸íŠ¸ ìƒíƒœë¥¼ ë³´ì¡´í•©ë‹ˆë‹¤. ì¦‰, ì„œë²„ ì»´í¬ë„ŒíŠ¸ íŠ¸ë¦¬ë¥¼ ë‹¤ì‹œ ë¶ˆëŸ¬ì˜¬ ë•Œ í´ë¼ì´ì–¸íŠ¸ ìƒíƒœ, í¬ì»¤ìŠ¤, ì§„í–‰ ì¤‘ì¸ ì• ë‹ˆë©”ì´ì…˜ê¹Œì§€ ì¤‘ë‹¨ë˜ê±°ë‚˜ ì¬ì„¤ì •ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
>
> - ì„œë²„ ì»´í¬ë„ŒíŠ¸ëŠ” ì ì§„ì ìœ¼ë¡œ ë Œë”ë§ë˜ë©° **ë Œë”ë§ëœ UI ë‹¨ìœ„ë¥¼ í´ë¼ì´ì–¸íŠ¸ì— ì ì§„ì ìœ¼ë¡œ ìŠ¤íŠ¸ë¦¬ë°**í•©ë‹ˆë‹¤. ì´ë¥¼ ì„œìŠ¤íœìŠ¤ì™€ ê²°í•©í•˜ë©´ ê°œë°œìê°€ ì˜ë„ì ì¸ ë¡œë”© ìƒíƒœë¥¼ ë§Œë“¤ê³  í˜ì´ì§€ì˜ ë‚˜ë¨¸ì§€ ë¶€ë¶„ì´ ë¡œë“œë  ë•Œê¹Œì§€ ê¸°ë‹¤ë¦¬ëŠ” ë™ì•ˆ ì¤‘ìš”í•œ ì½˜í…ì¸ ë¥¼ ë¹ ë¥´ê²Œ í‘œì‹œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
>
> - ë˜í•œ ê°œë°œìëŠ” **ì„œë²„ì™€ í´ë¼ì´ì–¸íŠ¸ ê°„ì— ì½”ë“œë¥¼ ê³µìœ **í•˜ì—¬ ë‹¨ì¼ ì»´í¬ë„ŒíŠ¸ë¥¼ ì‚¬ìš©í•˜ì—¬ í•œ ê²½ë¡œì—ì„œëŠ” ì„œë²„ì—ì„œ ì¼ë¶€ ì½˜í…ì¸ ì˜ ì •ì  ë²„ì „ì„ ë Œë”ë§í•˜ê³  ë‹¤ë¥¸ ê²½ë¡œì—ì„œëŠ” í´ë¼ì´ì–¸íŠ¸ì—ì„œ í•´ë‹¹ ì½˜í…ì¸ ì˜ í¸ì§‘ ê°€ëŠ¥í•œ ë²„ì „ì„ ë Œë”ë§í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì •ì˜ë¼ê³  ë¶€ë¥¼ ë§Œí•œ ë¶€ë¶„ì€ ì—†ì–´ë³´ì´ê³ , ì—­ì‹œ ì„œë²„ ì»´í¬ë„ŒíŠ¸ë¥¼ ì‚¬ìš©í•˜ë©´ ë¬´ì—‡ì´ ê°€ëŠ¥í•œì§€ë¥¼ ì„¤ëª…í•˜ê³  ìˆë‹¤. ì‚¬ì‹¤ ìƒˆë¡œìš´ ê¸°ìˆ ì´ ë“±ì¥í•˜ê³  RFC ë‹¨ê³„ì—ì„œ ì´ê²ƒì´ ì •í™•íˆ ë¬´ì—‡ì¸ì§€ì— ëŒ€í•´ ê¸°ìˆ  ì œì•ˆìë„ ëª…í™•íˆ ì„¤ëª…í•  ìˆ˜ ì—†ëŠ” ê±¸ì§€ë„ ëª¨ë¥¸ë‹¤.

ì•„ë¬´íŠ¼ ì•ì—ì„œ ì‚´í´ë´¤ë˜ ì´ì•¼ê¸°ê°€ ì¢€ ë‚˜ì˜¤ê³ , ìƒˆë¡­ê²Œ ëˆˆì— ë„ëŠ” ë¶€ë¶„ë„ ìˆë‹¤.

ì„œë²„ ì»´í¬ë„ŒíŠ¸ì— ëŒ€í•œ ì¶”ê°€ì ì¸ ì„¤ëª…ìœ¼ë¡œ,

- ë Œë”ë§í•  í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ë¥¼ ë™ì ìœ¼ë¡œ ì„ íƒí•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ í´ë¼ì´ì–¸íŠ¸ëŠ” í˜ì´ì§€ë¥¼ ë Œë”ë§í•˜ëŠ” ë° í•„ìš”í•œ ìµœì†Œí•œì˜ ì½”ë“œë§Œ ë‹¤ìš´ë¡œë“œí•  ìˆ˜ ìˆë‹¤

- ë‹¤ì‹œ ë¡œë“œë  ë•Œ í´ë¼ì´ì–¸íŠ¸ ìƒíƒœë¥¼ ë³´ì¡´í•œë‹¤

- ì ì§„ì ìœ¼ë¡œ ë Œë”ë§ë˜ë©° ë Œë”ë§ëœ UI ë‹¨ìœ„ë¥¼ í´ë¼ì´ì–¸íŠ¸ì— ì ì§„ì ìœ¼ë¡œ ìŠ¤íŠ¸ë¦¬ë° í•œë‹¤

- ì„œë²„ì™€ í´ë¼ì´ì–¸íŠ¸ ê°„ì— ì½”ë“œë¥¼ ê³µìœ í•˜ì—¬ í•˜ë‚˜ì˜ ì»´í¬ë„ŒíŠ¸ë¡œ ì •ì  ë²„ì „ê³¼ ë™ì  ë²„ì „ì„ í•œë²ˆì— ì‘ì„±í•  ìˆ˜ ìˆë‹¤(â† ì´ ë¶€ë¶„ì€ ì´í•´ê°€ ì¢€ ì–´ë ¤ìš¸ ìˆ˜ ìˆëŠ”ë° RFCì˜ Basic Exampleì„ ì°¸ê³ ) ë¼ëŠ” ì ì´ ì–¸ê¸‰ëœë‹¤.

### 1-4) Next.js Docs (Server Components)

í˜„ì¬ ìœ ì¼í•˜ê²Œ í”„ë ˆì„ì›Œí¬ ë‚´ì— RSCì— ëŒ€í•œ í†µí•© ê¸°ëŠ¥ì„ ì œê³µí•˜ëŠ” Next.jsì˜ ë¬¸ì„œë¥¼ ë¹¼ë†“ì„ ìˆ˜ ì—†ë‹¤.

> React Server Components allow you to write UI that can be rendered and optionally cached on the server. In Next.js, the rendering work is further split by route segments to enable streaming and partial rendering, and there are three different server rendering strategies:
>
> (React ì„œë²„ ì»´í¬ë„ŒíŠ¸ë¥¼ ì‚¬ìš©í•˜ë©´ **ì„œë²„ì—ì„œ ë Œë”ë§í•˜ê³  ì„ íƒì ìœ¼ë¡œ ìºì‹œí•  ìˆ˜ ìˆëŠ” UIë¥¼ ì‘ì„±**í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. Next.jsì—ì„œëŠ” ë Œë”ë§ ì‘ì—…ì„ ê²½ë¡œ ì„¸ê·¸ë¨¼íŠ¸ë³„ë¡œ ë” ë¶„í• í•˜ì—¬ ìŠ¤íŠ¸ë¦¬ë° ë° ë¶€ë¶„ ë Œë”ë§ì„ ê°€ëŠ¥í•˜ê²Œ í•˜ë©°, ì„¸ ê°€ì§€ ë‹¤ë¥¸ ì„œë²„ ë Œë”ë§ ì „ëµì´ ìˆìŠµë‹ˆë‹¤:)
>
> - [Static Rendering](https://nextjs.org/docs/app/building-your-application/rendering/server-components#static-rendering-default)
>
> - [Dynamic Rendering](https://nextjs.org/docs/app/building-your-application/rendering/server-components#dynamic-rendering)
>
> - [Streaming](https://nextjs.org/docs/app/building-your-application/rendering/server-components#streaming)

ì—¬ê¸°ì—ì„œëŠ” ì•ì—ì„œ ì‚´í´ë³´ì§€ ëª»í–ˆë˜ `ìºì‹œ(Cache)` ê°œë…ê³¼ ì •ì , ë™ì , ìŠ¤íŠ¸ë¦¬ë° ë Œë”ë§ ë°©ì‹ì— ëŒ€í•œ ì–¸ê¸‰ì´ ë‚˜ì˜¨ë‹¤. ë‹¤ë§Œ ì´ë²ˆ ê¸€ì˜ ë¶„ëŸ‰ì—ì„œ í•¨ê»˜ ë‹¤ë£¨ê¸°ëŠ” ì–´ë µê² ë‹¤.

ì„œë²„ ì»´í¬ë„ŒíŠ¸ì˜ ì´ì ì— ëŒ€í•´ì„œë„ ì¼ë‹¨ ê±´ë„ˆ ë›°ê³ , Next.js App Routerì˜ ë™ì‘ ë°©ì‹ì„ ì„¤ëª…í•œ ë¶€ë¶„ìœ¼ë¡œ ë„˜ì–´ê°€ë³´ì.

> On the server, Next.js uses React's APIs to orchestrate rendering. The rendering work is split into chunks: by individual route segments andÂ [Suspense Boundaries](https://react.dev/reference/react/Suspense).
>
> (ì„œë²„ì—ì„œ Next.jsëŠ” Reactì˜ APIë¥¼ ì‚¬ìš©í•˜ì—¬ ë Œë”ë§ì„ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜í•©ë‹ˆë‹¤. ë Œë”ë§ ì‘ì—…ì€ ê°œë³„ ê²½ë¡œ ì„¸ê·¸ë¨¼íŠ¸ì™€ ì„œìŠ¤íœìŠ¤ ë°”ìš´ë”ë¦¬ì— ë”°ë¼ ì²­í¬ë¡œ ë‚˜ë‰©ë‹ˆë‹¤.)
>
> Each chunk is rendered in two steps: (ê° ì²­í¬ëŠ” ì•„ë˜ ë‘ ë‹¨ê³„ì— ë”°ë¼ ë Œë”ë§ ë©ë‹ˆë‹¤.)
>
> 1. React renders Server Components into a special data format called theÂ **React Server Component Payload (RSC Payload)**.
>
>    (ReactëŠ” ì„œë²„ ì»´í¬ë„ŒíŠ¸ë¥¼ React ì„œë²„ ì»´í¬ë„ŒíŠ¸ í˜ì´ë¡œë“œ(RSC í˜ì´ë¡œë“œ)ë¼ëŠ” íŠ¹ìˆ˜ ë°ì´í„° í˜•ì‹ìœ¼ë¡œ ë Œë”ë§í•©ë‹ˆë‹¤.)
>
> 2. Next.js uses the RSC Payload and Client Component JavaScript instructions to renderÂ **HTML**Â on the server.
>
>    (Next.jsëŠ” RSC í˜ì´ë¡œë“œì™€ í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ ìë°”ìŠ¤í¬ë¦½íŠ¸ ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ì—¬ ì„œë²„ì—ì„œ HTMLì„ ë Œë”ë§í•©ë‹ˆë‹¤.)
>
> Then, on the client: (ê·¸ë¦¬ê³  ë‚˜ì„œ í´ë¼ì´ì–¸íŠ¸ ì¸¡ì—ì„œëŠ”,)
>
> 1. The HTML is used to immediately show a fast non-interactive preview of the route - this is for the initial page load only.
>
>    (HTMLì€ ê²½ë¡œì˜ ë¹ ë¥¸ ë¹„-ì¸í„°ë ‰í‹°ë¸Œ ë¯¸ë¦¬ë³´ê¸°ë¥¼ ì¦‰ì‹œ í‘œì‹œí•˜ëŠ” ë° ì‚¬ìš©ë˜ë©°, ì´ëŠ” ì´ˆê¸° í˜ì´ì§€ ë¡œë“œì—ë§Œ ì‚¬ìš©ë©ë‹ˆë‹¤.)
>
> 2. The React Server Components Payload is used to reconcile the Client and Server Component trees, and update the DOM.
>
>    (React ì„œë²„ ì»´í¬ë„ŒíŠ¸ í˜ì´ë¡œë“œëŠ” í´ë¼ì´ì–¸íŠ¸ ë° ì„œë²„ ì»´í¬ë„ŒíŠ¸ íŠ¸ë¦¬ë¥¼ ì¬ì¡°ì •(reconciliation)í•˜ê³  DOMì„ ì—…ë°ì´íŠ¸í•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤.)
>
> 3. The JavaScript instructions are used toÂ [hydrate](https://react.dev/reference/react-dom/client/hydrateRoot)Â Client Components and make the application interactive.
>
>    (ìë°”ìŠ¤í¬ë¦½íŠ¸ê°€ ì‹¤í–‰ë˜ë©´ì„œ í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ë¥¼ í•˜ì´ë“œë ˆì´íŠ¸ í•˜ê³  ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ìƒí˜¸ì‘ìš© ê°€ëŠ¥í•œ ìƒíƒœê°€ ë©ë‹ˆë‹¤.)

ìš°ë¦¬ê°€ ì•ì„œ RSCì— ëŒ€í•œ ëª…ì„¸ë¥¼ ì‚´í´ë³´ë˜ ê²ƒê³¼ëŠ” ë‹¤ë¥´ê²Œ, RSCë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•œ ë¦¬ì•¡íŠ¸ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ë Œë”ë§ì´ ì‹¤ì œ ì–´ë–»ê²Œ ë™ì‘í•˜ëŠ”ê°€ì— ëŒ€í•œ ì„¤ëª…ìœ¼ë¡œ ë³´ì¸ë‹¤.

ì•„ë¬´ë˜ë„ ê¸°ìˆ ì ì¸ ì„œìˆ ì´ë‹¤ë³´ë‹ˆ `RSC Payload`ë¼ëŠ” ë˜ ìƒˆë¡œìš´ ê°œë…ì–´ê°€ ë‚˜ì˜¤ëŠ”ë° ìƒë‹¹íˆ ì¤‘ìš”í•´ë³´ì¸ë‹¤. ì‹¤ì œë¡œë„ ë§¤ìš° ì¤‘ìš”í•˜ë‹¤! ê·¸ë ‡ë‹¤ë³´ë‹ˆ ë¬¸ì„œì—ì„œëŠ” ì•„ë˜ì™€ ê°™ì´ ì´ì–´ì„œ ì„¤ëª…ì„ ë§ë¶™ì—¬ì£¼ê³  ìˆë‹¤.

> **What is the React Server Component Payload (RSC)?**
>
> The RSC Payload is a compact binary representation of the rendered React Server Components tree. It's used by React on the client to update the browser's DOM. The RSC Payload contains:
>
> (RSC í˜ì´ë¡œë“œëŠ” **ë Œë”ë§ëœ React ì„œë²„ ì»´í¬ë„ŒíŠ¸ íŠ¸ë¦¬ì˜ ì••ì¶•ëœ ë°”ì´ë„ˆë¦¬ í‘œí˜„**ì…ë‹ˆë‹¤. í´ë¼ì´ì–¸íŠ¸ì—ì„œ Reactê°€ ë¸Œë¼ìš°ì €ì˜ DOMì„ ì—…ë°ì´íŠ¸í•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤. RSC í˜ì´ë¡œë“œì—ëŠ” ë‹¤ìŒì´ í¬í•¨ë©ë‹ˆë‹¤:)
>
> - The rendered result of Server Components (**ì„œë²„ ì»´í¬ë„ŒíŠ¸ì˜ ë Œë”ë§ ê²°ê³¼ë¬¼**)
>
> - Placeholders for where Client Components should be rendered and references to their JavaScript files (í´ë¼ì´ì–¸íŠ¸ **ì»´í¬ë„ŒíŠ¸ê°€ ë Œë”ë§ë  ìœ„ì¹˜**ì™€ í•´ë‹¹ **ìë°”ìŠ¤í¬ë¦½íŠ¸ íŒŒì¼ì— ëŒ€í•œ ì°¸ì¡°ë¥¼ ìœ„í•œ í”Œë ˆì´ìŠ¤í™€ë”**)
>
> - Any props passed from a Server Component to a Client Component (**ì„œë²„ ì»´í¬ë„ŒíŠ¸ì—ì„œ í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ë¡œ ì „ë‹¬ëœ ëª¨ë“  Props**)

ì‚¬ì‹¤ ì´ ê°œë…ì€ RFC í›„ë°˜ë¶€ FAQ ëŒ€ëª©ì—ì„œ ì§€ë‚˜ê°€ë“¯ ì–¸ê¸‰ëœ ë°” ìˆê¸´ í•˜ë‹¤.

> **What is the response format?**
>
> Itâ€™s like JSON, but with â€œslotsâ€ that can be filled in later. This lets us stream content in stages, breadth-first. Suspense boundaries mark intentionally designed visual state so we can start showing the result before all of it has fully streamed in. This protocol is a richer form that canÂ *also*Â be converted to an HTML stream in order to speed up the initial, non-interactive render.
>
> (JSONê³¼ ë¹„ìŠ·í•˜ì§€ë§Œ ë‚˜ì¤‘ì— ì±„ìš¸ ìˆ˜ ìˆëŠ” 'ìŠ¬ë¡¯'ì´ ìˆìŠµë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ì½˜í…ì¸ ë¥¼ ë‹¨ê³„ì ìœ¼ë¡œ, í­ì„ ë„“í˜€ê°€ë©° ìŠ¤íŠ¸ë¦¬ë°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì„œìŠ¤íœìŠ¤ ê²½ê³„ëŠ” ì˜ë„ì ìœ¼ë¡œ ì„¤ê³„ëœ ì‹œê°ì  ìƒíƒœë¥¼ í‘œì‹œí•˜ì—¬ ëª¨ë“  ì½˜í…ì¸ ê°€ ì™„ì „íˆ ìŠ¤íŠ¸ë¦¬ë°ë˜ê¸° ì „ì— ê²°ê³¼ë¥¼ ë³´ì—¬ì¤„ ìˆ˜ ìˆë„ë¡ í•©ë‹ˆë‹¤. ì´ í”„ë¡œí† ì½œì€ ì´ˆê¸° ë¹„ëŒ€í™”í˜• ë Œë”ë§ ì†ë„ë¥¼ ë†’ì´ê¸° ìœ„í•´ HTML ìŠ¤íŠ¸ë¦¼ìœ¼ë¡œ ë³€í™˜í•  ìˆ˜ë„ ìˆëŠ” ë” í’ë¶€í•œ í˜•ì‹ì…ë‹ˆë‹¤.)

ì´ ì„¤ëª…ì—ì„œ ì–¸ê¸‰ëœ JSONê³¼ ìœ ì‚¬í•œ â€˜response formatâ€™ì´ë¼ëŠ” ê²ƒì´ ë°”ë¡œ RSC Payloadì´ê³  â€˜ìŠ¬ë¡¯â€™ì´ë¼ëŠ” ê°œë…ì´ Next.js Docsì—ì„œ ì–¸ê¸‰ëœ â€˜references to their JavaScript filesâ€™ ì™€ ì—°ê²°ë˜ëŠ” ë¶€ë¶„ì´ë‹¤. RSC PayloadëŠ” ì´ ê¸€ì˜ ìµœí›„ë°˜ë¶€ì— ì•„ì£¼ ì¤‘ìš”í•œ ê°œë…ìœ¼ë¡œ ë‹¤ì‹œ ë“±ì¥í•˜ë‹ˆ ì¢€ ë” í˜ì£¼ì–´ ê¸°ì–µí•´ë‘ì–´ë„ ì¢‹ê² ë‹¤.

ì´ìƒ ë§ì€ ë‚´ìš©ì„ ì‚´í´ë´¤ì§€ë§Œ ì—¬ì „íˆ ì¶”ìƒì ì´ë‹¤. ê·¸ë˜ë„ ì´ëŸ° ê³µì‹ì ì¸ ë¬¸ì„œë¥¼ í•œë²ˆ ì¯¤ì€ í†µê³¼í•´ì•¼ í•˜ëŠ” ì´ìœ ë¥¼ ì°¾ì•„ë³´ìë©´ ê°œë…ì— ëŒ€í•œ ì „ì²´ì ì¸ ë¼ˆëŒ€ë¥¼ ì–»ì„ ìˆ˜ ìˆê¸° ë•Œë¬¸ì´ë‹¤.

ê¼­ ê³µì‹ ë¬¸ì„œë¡œ ì‹œì‘í•  í•„ìš”ëŠ” ì—†ë‹¤. ì´í•´ë¥¼ ì–»ê¸° ì¢‹ì€ ìˆ˜ë‹¨ì´ë¼ë©´ ë‹¤ì–‘í•˜ê²Œ í™œìš©í•˜ëŠ”ê²Œ ì¢‹ë‹¤. í•˜ì§€ë§Œ ê²°êµ­ ëª¨ë“  ì„¤ëª…ë“¤ì€ ê³µì‹ ë¬¸ì„œì—ì„œ ì–¸ê¸‰ëœ ì •ì˜ë¥¼ ë²—ì–´ë‚  ìˆ˜ ì—†ë‹¤. ì´ ì ì´ ì¤‘ìš”í•˜ë‹¤. ì‰¬ìš´ ì„¤ëª…ì€ ê½¤ë‚˜ ìì£¼ ì˜ëª»ëœ ê¸¸ë¡œ ë¹ ì§€ê³¤ í•œë‹¤. ì •ì˜ë¥¼ í•œë²ˆì´ë¼ë„ ì‚´í´ë³¸ ì‚¬ëŒê³¼ ê·¸ë ‡ì§€ ì•Šì€ ì‚¬ëŒ ì‚¬ì´ì— ì˜¤ê°œë…ì´ ë°œìƒí•  í™•ë¥ ì´ ì–¼ë§ˆë‚˜ ë ì§€ëŠ” ê°•ì¡°í•˜ì§€ ì•Šì•„ë„ ë‚©ë“ë˜ë¦¬ë¼ ìƒê°í•œë‹¤.

## 2. ì»¤ë®¤ë‹ˆí‹°ë¡œ ë¶€í„° ì–»ì€ ì—¬ëŸ¬ê°€ì§€ ìë£Œë“¤

1ì„ ê¸°ë°˜ìœ¼ë¡œ ë¦¬ì•¡íŠ¸ ì»¤ë®¤ë‹ˆí‹°ì—ì„œ ì´í•´ë¥¼ ë•ê¸° ìœ„í•´ ìƒì‚°í•œ ëª‡ëª‡ ìë£Œë“¤ì„ ê¸°ë°˜ìœ¼ë¡œ ì„¤ëª…ì„ ì´ì–´ ë‚˜ê°€ë³¸ë‹¤.

### 2-1) Why do Client Components get SSR'd to HTML? (Dan Abramov)

ë‚˜ëŠ” ê°œì¸ì ìœ¼ë¡œ ì´ë²ˆ RSC í”Œë¡œìš°ë¥¼ ê²ªìœ¼ë©´ì„œ ë¦¬ì•¡íŠ¸ ì»¤ë®¤ë‹ˆí‹°ëŠ” Dan ê°™ì€ ì‚¬ëŒì„ ê°€ì§ˆ ìê²©ì´ ì—†ë‹¤ê³  ìƒê°í–ˆë‹¤. RSCê°€ ë°œí‘œë˜ê³  ê·¸ê²ƒì´ Next.js 13 ë²„ì „ì— íƒ‘ì¬ë˜ì–´ ë°œí‘œë˜ëŠ” ê³¼ì •ì—ì„œ Githubì™€ Twitter ë“±ì§€ì—ì„œ ì–¼ë§ˆë‚˜ í•„ìš” ì´ìƒìœ¼ë¡œ ì‹¬í•œ ë¹„ë‚œë“¤ì´ ìŸì•„ì¡ŒëŠ”ì§€, í•œí¸ ê·¸ ë¹„ë‚œë“¤ì„ í•˜ë‚˜í•˜ë‚˜ ì°¾ì•„ë‹¤ë‹ˆë©° ì„¤ë“í•˜ê³  ì„¤ëª…í•˜ë˜ Danì˜ ëª¨ìŠµì€ ì–¼ë§ˆë‚˜ ì²˜ì ˆí–ˆëŠ”ì§€ ê¸°ì–µí•˜ëŠ” ì‚¬ëŒë“¤ì€ ê³µê°í•  ìˆ˜ ìˆì„ ê²ƒì´ë‹¤.

ì•„ë¬´íŠ¼ RSCê°€ ì»¤ë®¤ë‹ˆí‹°ì— ë³´ê¸‰ë˜ëŠ” ê³¼ì •ì—ì„œ ë¹¼ë†“ì„ ìˆ˜ ì—†ëŠ” ì—­í• ì„ í•œ ì‚¬ëŒì´ë‹¤. ê·¸ì˜ ë¸”ë¡œê·¸ì— ìµœê·¼ ì—°ì¬ë˜ê³  ìˆëŠ” í¬ìŠ¤íŠ¸ë“¤([A Chain Reaction](https://overreacted.io/a-chain-reaction/), [The Two Reacts](https://overreacted.io/the-two-reacts/)) ë˜í•œ RSCë¥¼ ë³´ê¸‰í•˜ê¸° ìœ„í•œ ë°©ë²•ì„ ì°¾ê³  ìˆëŠ” ê³¼ì •ìœ¼ë¡œì„œ ì—¼ë‘í•˜ê³  ì½ì–´ì•¼ í•  ê²ƒ ê°™ë‹¤.

Danì´ RSCë¥¼ ì„¤ëª…í•˜ê¸° ìœ„í•´ ë§Œë“¤ì—ˆë˜ ë§ì€ ìë£Œ ì¤‘ì— ê°€ì¥ ì²˜ìŒìœ¼ë¡œ ì‚´í´ë´ì•¼ í•  ê²ƒì€ ë°”ë¡œ **Why do Client Components get SSR'd to HTML?** ([ë§í¬](https://github.com/reactwg/server-components/discussions/4)) ì—ì„œ ì†Œê°œëœ ë„í‘œë‹¤.

ìƒˆë¡œì´ ì†Œê°œëœ ê°œë…ì„ ì´í•´í•˜ê¸° ìœ„í•´ í•„ìš”í•œ ê²ƒì€ â€˜ë©˜íƒˆ ëª¨ë¸â€™ì´ë‹¤. ê·¸ ìƒˆë¡œìš´ ê²ƒì˜ ì •ì²´ê°€ ë¬´ì—‡ì´ê³  ê¸°ì¡´ ë©˜íƒˆ ëª¨ë¸ê³¼ ì–´ë–»ê²Œ í†µí•©ë  ìˆ˜ ìˆëŠ”ì§€ë¥¼ ë³´ì—¬ì£¼ëŠ” ì§ê´€ì ì¸ ë¬´ì–¸ê°€ê°€ í•„ìš”í•œ ê²ƒì´ë‹¤.

![Untitled](https://private-user-images.githubusercontent.com/810438/242759983-7b94cb4e-a46e-41a8-b73f-954a39550599.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MDg2Mjc3MjMsIm5iZiI6MTcwODYyNzQyMywicGF0aCI6Ii84MTA0MzgvMjQyNzU5OTgzLTdiOTRjYjRlLWE0NmUtNDFhOC1iNzNmLTk1NGEzOTU1MDU5OS5wbmc_WC1BbXotQWxnb3JpdGhtPUFXUzQtSE1BQy1TSEEyNTYmWC1BbXotQ3JlZGVudGlhbD1BS0lBVkNPRFlMU0E1M1BRSzRaQSUyRjIwMjQwMjIyJTJGdXMtZWFzdC0xJTJGczMlMkZhd3M0X3JlcXVlc3QmWC1BbXotRGF0ZT0yMDI0MDIyMlQxODQzNDNaJlgtQW16LUV4cGlyZXM9MzAwJlgtQW16LVNpZ25hdHVyZT0wZDhiNTM1ZTcwNDkwZDUyYWJiOWI5MmJhYzViNzdmMDg2MDU0NDRiN2QwNGNiYWEzOTczZmZlZGI1NmMxNjc0JlgtQW16LVNpZ25lZEhlYWRlcnM9aG9zdCZhY3Rvcl9pZD0wJmtleV9pZD0wJnJlcG9faWQ9MCJ9.iaRz4kVjWo_43jJgJwHvkbqoptkIhaBnw4_YlNvytgc)

![Untitled](https://private-user-images.githubusercontent.com/810438/242760351-01971cfa-6e3a-4077-bb09-7d2a2c21e51c.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MDg2Mjc3MjMsIm5iZiI6MTcwODYyNzQyMywicGF0aCI6Ii84MTA0MzgvMjQyNzYwMzUxLTAxOTcxY2ZhLTZlM2EtNDA3Ny1iYjA5LTdkMmEyYzIxZTUxYy5wbmc_WC1BbXotQWxnb3JpdGhtPUFXUzQtSE1BQy1TSEEyNTYmWC1BbXotQ3JlZGVudGlhbD1BS0lBVkNPRFlMU0E1M1BRSzRaQSUyRjIwMjQwMjIyJTJGdXMtZWFzdC0xJTJGczMlMkZhd3M0X3JlcXVlc3QmWC1BbXotRGF0ZT0yMDI0MDIyMlQxODQzNDNaJlgtQW16LUV4cGlyZXM9MzAwJlgtQW16LVNpZ25hdHVyZT03ZjY4MjE0Y2RlN2FmY2QyYjY2NjJiZTVkYmM5NGFkYTFlMTBlYjI2NzRlMzExNGJiNWIyOTQ3Nzk2MDJhN2Q0JlgtQW16LVNpZ25lZEhlYWRlcnM9aG9zdCZhY3Rvcl9pZD0wJmtleV9pZD0wJnJlcG9faWQ9MCJ9.VLh2WjgSFPOAWa27oSjjzxEg-1isfT5AjwjkVX2LFNQ)

ê¸°ì¡´ì˜ ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸ë¥¼ â€˜í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸â€™ë¼ê³  ë¶€ë¥´ê³ , ìƒˆë¡­ê²Œ ì¶”ê°€ëœ ì˜ì—­ì˜ ì»´í¬ë„ŒíŠ¸ë¥¼ ì„œë²„ ì»´í¬ë„ŒíŠ¸ë¼ê³  ì •ì˜í•˜ê³  ìˆë‹¤. Danì€ RSCê°€ ê¸°ì¡´ì˜ ë¦¬ì•¡íŠ¸ì˜ ë¬´ì–¸ê°€ë¥¼ ëŒ€ì²´í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ì˜¤íˆë ¤ ê·¸ ë™ì•ˆ í•  ìˆ˜ ì—†ì—ˆë˜ ë¬´ì–¸ê°€ë¥¼ í•  ìˆ˜ ìˆë„ë¡ ë„“í˜€ì£¼ëŠ” ê°œë…ì„ì„ ì´ ê·¸ë¦¼ì„ í†µí•´ì„œ ë§í•˜ê³  ìˆë‹¤.

í•˜ë‚˜ ì¤‘ìš”í•œ ì„¤ëª…ì„ ì¸ìš©í•´ë³´ìë©´ ì•„ë§ˆ ì´ ë¶€ë¶„ì¼ ê²ƒì´ë‹¤.

> Props always flow from React Server to React Client, and there is a serialization boundary between them. React Server typically runs either at the build time (default), or on an actual server. React Client typically runs in both environments (in the browser it manages the DOM, in other environments it generates initial HTML).
>
> (PropsëŠ” í•­ìƒ React ì„œë²„ì—ì„œ React í´ë¼ì´ì–¸íŠ¸ë¡œ íë¥´ë©°, ì´ë“¤ ì‚¬ì´ì—ëŠ” ì§ë ¬í™” ê²½ê³„ê°€ ìˆìŠµë‹ˆë‹¤. React ServerëŠ” ì¼ë°˜ì ìœ¼ë¡œ ë¹Œë“œ ì‹œ(ê¸°ë³¸ê°’)ì— ì‹¤í–‰ë˜ê±°ë‚˜ ì‹¤ì œ ì„œë²„ì—ì„œ ì‹¤í–‰ë©ë‹ˆë‹¤. React í´ë¼ì´ì–¸íŠ¸ëŠ” ì¼ë°˜ì ìœ¼ë¡œ ë‘ í™˜ê²½ ëª¨ë‘ì—ì„œ ì‹¤í–‰ë©ë‹ˆë‹¤(ë¸Œë¼ìš°ì €ì—ì„œëŠ” DOMì„ ê´€ë¦¬í•˜ê³  ë‹¤ë¥¸ í™˜ê²½ì—ì„œëŠ” ì´ˆê¸° HTMLì„ ìƒì„±í•©ë‹ˆë‹¤).)

ì„œë²„ì—ì„œ í´ë¼ì´ì–¸íŠ¸ë¡œ ë°ì´í„°ê°€ ì „ì†¡ëœë‹¤ëŠ” ê±´ ì¼ë°˜ì ìœ¼ë¡œ HTTP Responseë¥¼ ì´ì•¼ê¸° í•˜ëŠ” ê²ƒì¼ í…Œê³ , ì´ë§ì¸ ì¦‰ ì§ë ¬í™” ê³¼ì •ì„ ê±°ì³ì•¼ í•œë‹¤ëŠ” ëœ»ì´ë‹¤.

ì²˜ìŒ ì´ ì„¤ëª…ì„ ì ‘í–ˆì„ ë•ŒëŠ” â€˜ì•„ë‹ˆ ì• ì´ˆì— SSR í•  ë•Œ ë‹¤ HTMLë¡œ ì‘ë‹µë˜ëŠ”ë° ë¬´ìŠ¨ ë‹¹ì—°í•œ ì†Œë¦¬ë¥¼â€¦?â€™ ì´ë¼ê³  ìƒê°í–ˆì—ˆì§€ë§Œ í›„ì— ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸, ì‹¬ì§€ì–´ Promise ê°ì²´ì¡°ì°¨ë„ JSON í¬ë§·ì¸ RSC Payloadì— ë‚‘ê²¨ ë„£ëŠ” ì¼ì´ ë²Œì–´ì§ˆ ê²ƒì´ë¼ëŠ” ë§ì¸ ì¤„ì€ ëª°ëë˜ ê²ƒì´ë‹¤. ê·¸ ê´‘ê²½ì„ ë³´ê³¤ ì‹¬ì•½ìì¸ ë‚˜ë¡œì„œëŠ” ê·¸ë§Œ ì •ì‹ ì„ ìƒê³  ë§ì•˜ë˜ ê²ƒì´ë‹¤â€¦

ì´ ì™¸ì—ë„ Danì´ ë‚¨ê¸´ ìë£Œ ì¤‘ì—ëŠ” ì°¸ê³ í•´ì•¼ í•  ê²ƒë“¤ì´ ë§ì€ë° ì ì‹œ ë‹¤ë¥¸ ì„¤ëª…ë¶€í„° ë³´ê³  ì™€ì•¼ í•œë‹¤.

### 2-2) How React server components work: an in-depth guide

ì´ì–´ì„œ ì‚´í´ë³¼ ê¸€ì€ **How React server components work: an in-depth guide**([ë§í¬](https://www.plasmic.app/blog/how-react-server-components-work#what-are-react-server-components))ì´ë‹¤. ê¸€ì´ ì“°ì—¬ì§„ ì‹œê¸°ê°€ 22ë…„ 3ì›” ì¯¤ì¸ë° ë¹„í•´ ê½¤ë‚˜ ë‚´ìš©ì´ ì•Œì°¨ì„œ ê½¤ë‚˜ ë§ì´ ì°¸ê³ í–ˆë˜ ê¸€ì´ë‹¤.

ì´ ê¸€ì—ì„œ ê°€ì¥ ì¤‘ìš”í•œ ê·¸ë¦¼ì„ í•˜ë‚˜ ê¼½ìë©´ ë°”ë¡œ ì´ê²ƒì´ë‹¤.

![alt text](image.png)

Danì€ ë¼ˆ-ì‚´ ëª¨ë¸ì´ë¼ê³  ì„¤ëª…í•˜ê¸°ë„ í–ˆë˜ ë¶€ë¶„ì¸ë°, ê°„ë‹¨íˆ ìš”ì•½í•˜ìë©´ Next.js ê¸°ì¤€ RSC ì•„í‚¤í…ì²˜ì˜ ë Œë”ë§ ì‚¬ì´í´ì„ ë³´ë©´ 1) ì„œë²„ ì»´í¬ë„ŒíŠ¸ê°€ ë¨¼ì € ë Œë”ë§ ëœë‹¤ 2) ë¹„ë™ê¸° í˜¸ì¶œì´ í•„ìš”í•œ ì»´í¬ë„ŒíŠ¸(ex. `suspense: true`, `use() hook` ë“±) ë“¤ì€ fallbackì„ ëŒ€ì‹  ê·¸ë¦° ì±„ ê±´ë„ˆë›°ê³  ë‹¨ìœ„ ì‹œê°„ ë‚´ì— ë Œë”ë§ ê°€ëŠ¥í•œ ë¶€ë¶„ë¶€í„° ë¨¼ì € ë Œë”ë§ì„ ì™„ë£Œí•˜ê³  ì²« ì‘ë‹µìœ¼ë¡œ ë³´ë‚¼ HTMLì„ ìƒì„±í•œë‹¤. ë°”ê¿” ë§í•˜ìë©´ Suspenseê°€ ìì—°ìŠ¤ëŸ½ê²Œ ì„œë²„ ì¸¡ ë Œë”ë§ ê²½ê³„ê°€ ë˜ì–´ì£¼ëŠ” ê²ƒì´ë‹¤.

ìœ„ì—ì„œ ë¼ˆì™€ ì‚´ì´ë¼ê³  í‘œí˜„ì„ í•œ ê²ƒì€ ì›¹ í˜ì´ì§€ì˜ ì •ì ì¸ ë¶€ë¶„, ë‹¤ì‹œ ë§í•´ â€˜ë¼ˆëŒ€â€™ê°€ ë˜ì–´ì£¼ëŠ” ë¶€ë¶„ì„ ê¸°ë³¸ì ìœ¼ë¡œ ì„œë²„ ì»´í¬ë„ŒíŠ¸ë¡œ ì²˜ë¦¬í•˜ê³  ë°ì´í„° í˜¸ì¶œë¡œ ì¸í•œ ë³€ê²½ì´ë‚˜ ì¸í„°ë ‰ì…˜ ê°€ëŠ¥í•œ ë¶€ë¶„ì— ëŒ€í•´ì„œëŠ” í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸(ì£¼ì˜: í´ë¼ì´ì–¸íŠ¸ Onlyê°€ ì•„ë‹ˆë¼ ì„œë²„ - í´ë¼ì´ì–¸íŠ¸ ì–‘ìª½ì—ì„œ ì‹¤í–‰ë˜ëŠ” ê¸°ì¡´ ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸ë¥¼ ì˜ë¯¸í•œë‹¤)ë¡œ ì²˜ë¦¬í•˜ê³  ì´ë¥¼ ë¼ˆì™€ ëŒ€ë¹„ë˜ëŠ” ê°œë…ì¸ â€˜ì‚´â€™ë¡œ í‘œí˜„í•œ ê²ƒìœ¼ë¡œ ì´í•´í•˜ë©´ ëœë‹¤.

ì—¬ê¸°ì„œ ë¼ˆì™€ ì‚´ì„ ë‚˜ëˆ„ëŠ” ê²½ê³„ì˜ ê¸°ì¤€ì´ ë˜ëŠ” ê²ƒì´ ë°”ë¡œ `"use client"`([ë§í¬](https://react.dev/reference/react/use-client))ì™€ `"use server"`([ë§í¬](https://react.dev/reference/react/use-server)) ì§€ì‹œë¬¸(Directive)ì´ë‹¤.

![https://react.dev/reference/react/use-client](image-2.png)

https://react.dev/reference/react/use-client

ì²˜ìŒì—” ë¬¸ì„œë„ ì—†ì—ˆëŠ”ë°, React 19 ë¦´ë¦¬ì¦ˆë¥¼ ì•ë‘ê³  ê³µì‹ ë¬¸ì„œì— ì¶”ê°€ë˜ì—ˆë‹¤. ì´ ìŠ¤í™ì— ëŒ€í•œ RFC ë¬¸ì„œ([ë§í¬](https://github.com/reactjs/rfcs/blob/main/text/0227-server-module-conventions.md))ì™€ PR([ë§í¬1](https://github.com/reactjs/rfcs/pull/227), [ë§í¬2](https://github.com/reactjs/rfcs/pull/189))ì„ ì‚´í´ë³´ë©´ ê½¤ë‚˜ ê²©ë ¬í•œ í† ë¡ ì´ ìˆì—ˆë‹¤ëŠ” ì‚¬ì‹¤ì„ ì•Œ ìˆ˜ ìˆë‹¤.

í•µì‹¬ì€ 1) ë²ˆë“¤ëŸ¬ ìˆ˜ì¤€ì—ì„œ ê° ì»´í¬ë„ŒíŠ¸ê°€ ì„œë²„ - í´ë¼ì´ì–¸íŠ¸ ì–´ëŠ ìª½ì— ì†í•˜ëŠ”ì§€ ì•Œ ìˆ˜ ìˆì–´ì•¼ í•œë‹¤ëŠ” ê²ƒì´ê³  2) `â€œuse strictâ€` ê³¼ ë¹„ìŠ·í•œ ì»¨ë²¤ì…˜ì„ ë”°ë¥¼ ê²ƒì¸ì§€, í˜¹ì€ `.server.jsx` / `.client.jsx` ê°™ì€ íŒŒì¼ëª… ì»¨ë²¤ì…˜ì„ ë”°ë¥¼ ê²ƒì¸ì§€ ì •ë„ë¥¼ í¼ì§í•œ ìŸì ìœ¼ë¡œ ë‹¤ë¤˜ë˜ ê²ƒìœ¼ë¡œ ë³´ì¸ë‹¤. ì²˜ìŒì—ëŠ” íŒŒì¼ëª…ì„ ê¸°ì¤€ìœ¼ë¡œ ë‚˜ëˆ„ëŠ” ê²ƒìœ¼ë¡œ ì œì•ˆë˜ì—ˆë‹¤ê°€ Next.js ì²˜ëŸ¼ íŒŒì¼ ê¸°ë°˜ ë¼ìš°íŠ¸ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš° ì²˜ë¦¬ê°€ ê¹Œë‹¤ë¡œì›Œì§€ëŠ” ë“±ì˜ ì´ìœ ë¡œ `"use-"` ë¥¼ ì‚¬ìš©í•˜ëŠ” ìª½ìœ¼ë¡œ ê°€ë‹¥ì´ ì¡í˜”ë‹¤.

ì´ ì§€ì‹œë¬¸ì´ ìƒì„±í•˜ëŠ” ê²½ê³„ëŠ” ì—¬ì „íˆ ë§ì€ í˜¼ë€ì„ ì¼ìœ¼í‚¤ê³  ìˆì§€ë§Œ, ê°œì¸ì ìœ¼ë¡œëŠ” ì•„ë˜ì™€ ê°™ì€ ì¢€ ë” ì§ê´€ì ì´ê³  ì‰¬ìš´ ì„¤ëª… ë°©ë²•ë“¤ì´ ë“±ì¥í•˜ë©´ì„œ ê°œë°œìë“¤ì˜ ì´í•´ë„ê°€ ë†’ì•„ì§€ê³ , IDEë‚˜ ë¦°íŠ¸ ê°™ì€ ê´€ë ¨ íˆ´ë§ì´ ê°œë°œë˜ë©´ì„œ í•´ì†Œë  ìˆ˜ ìˆëŠ” ë¬¸ì œë¼ê³  ìƒê°í•œë‹¤.

> I think what makes it easier to teach is understanding and explaining what they mean. Itâ€™s really not that confusing that â€œuse clientâ€ is how you use the client from the server. And â€œuse serverâ€ is how you use the server from the client.
>
> (â€¦ 'use client'ëŠ” ì„œë²„ì—ì„œ í´ë¼ì´ì–¸íŠ¸ë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì´ê³ , 'use server'ëŠ” í´ë¼ì´ì–¸íŠ¸ì—ì„œ ì„œë²„ë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì´ë¼ê³  ìƒê°í•˜ë©´ ê·¸ë ‡ê²Œ í˜¼ë€ìŠ¤ëŸ½ì§€ ì•ŠìŠµë‹ˆë‹¤.)
>
> (https://twitter.com/rickhanlonii/status/1758944237884772380?s=20)

ì¸ìš©í•˜ê³  ìˆëŠ” ì•„í‹°í´ ë³¸ë¬¸ì—ì„œëŠ” ì–¸ê¸‰ë˜ê³  ìˆì§€ ì•Šê³  ì´ë²ˆ ê¸€ì—ì„œë„ ìƒì„¸íˆ ë‹¤ë£¨ì§€ëŠ” ì•Šê² ì§€ë§Œ, Next.jsì˜ RSC êµ¬í˜„ì— ë”°ë¥´ë©´ ê¸°ì¡´ `SSG`, `SSR`, `ISR` ë“±ì˜ ë Œë”ë§ ì „ëµì´ í˜ì´ì§€ ë‹¨ìœ„ â†’ ì»´í¬ë„ŒíŠ¸ ë‹¨ìœ„ë¡œ ì ìš© ê°€ëŠ¥í•´ì¡Œë‹¤ëŠ” ì ë„ í° ì¤‘ìš”í•œ ì§„ì „ ì¤‘ í•˜ë‚˜ì´ë‹¤.

ê°„ëµí•˜ê²Œë§Œ ì–¸ê¸‰í•´ë³´ë©´, íŠ¹ì • ì„œë²„ ì»´í¬ë„ŒíŠ¸ì— í•„ìš”í•œ ë°ì´í„°ë¥¼ `fetch` í•¨ìˆ˜(Next.jsì—ì„œ ìºì‹œ ê¸°ëŠ¥ì„ í¬í•¨í•˜ì—¬ ì˜¤ë²„ë¼ì´ë“œ í•œ)ë¡œ í˜¸ì¶œí•˜ê³  ê·¸ ìºì‹œ ì˜µì…˜(`React.cache()`ë¥¼ í†µí•´ ì €ì¥ëœë‹¤)ì— ë”°ë¼ ê° ì»´í¬ë„ŒíŠ¸ì˜ ë Œë”ë§ ì „ëµì´ ë‹¬ë¦¬ ì ìš©ëœë‹¤.

ëª¨ë“  ìš”ì²­ì˜ ìºì‹œê°€ ë§Œë£Œë˜ì§€ ì•Šë„ë¡ í•˜ë©´ `SSG`, ìºì‹œì— ì €ì¥ë˜ì§€ ì•Šë„ë¡ í•˜ë©´ `SSR`, ì¼ì • ê¸°ê°„ í˜¹ì€ íŠ¸ë¦¬ê±°ë¥¼ í†µí•´ ìºì‹œë¥¼ ë§Œë£Œì‹œí‚¤ë©´ `ISR` ê³¼ ê°™ì€ íš¨ê³¼ë¥¼ ë³¼ ìˆ˜ ìˆë‹¤. ì´ë ‡ê²Œ í•˜ë©´ ê¸°ì¡´ í˜ì´ì§€ ë‹¨ìœ„ë¡œë§˜ ì„œë²„ ì‚¬ì´ë“œ API ë¥¼ í˜¸ì¶œ ê°€ëŠ¥í–ˆë˜ ë°©ë²•ì— ë¹„í•´ ì»´í¬ë„ŒíŠ¸ ë‹¨ìœ„ë¡œ ì„¸ë°€í•˜ê²Œ ë°ì´í„° í˜¸ì¶œ ì „ëµì„ ê°€ì ¸ê°ˆ ìˆ˜ ìˆê²Œ ëœë‹¤.

ì•„ë¬´íŠ¼â€¦ ìœ„ì—ì„œ ì–¸ê¸‰í•œ 2ë‹¨ê³„ ê¹Œì§€ ìˆ˜í–‰ë˜ë”ë¼ë„ ì•„ì§ ìƒí˜¸ì‘ìš© ë¶ˆê°€ëŠ¥í•œ ì„œë²„ ì»´í¬ë„ŒíŠ¸(ì„œë²„ ì»´í¬ë„ŒíŠ¸ ë‚´ì—ì„œëŠ” useState, useEffect, ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ë“±ì„ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤)ì™€ í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ì˜ ì •ì ì¸ ë²„ì „(ì•„ì§ í•˜ì´ë“œë ˆì´ì…˜ ë˜ê¸° ì „)ë§Œ ë Œë”ë§ ëœ ìƒíƒœì´ë‹¤. ì¦‰ ê·¸ëƒ¥ HTMLì¸ ìƒíƒœë‹¤.

![alt text](image-1.png)

ê·¸ë˜ë„ ì´ë ‡ê²Œ ë§Œë“¤ì–´ì§„ HTML ì²­í¬ì™€ ì•± ì‹¤í–‰ì— í•„ìš”í•œ ìë°”ìŠ¤í¬ë¦½íŠ¸ ë²ˆë“¤ì´ í•¨ê»˜ í´ë¼ì´ì–¸íŠ¸ì— ì „ì†¡ë˜ê³  í•˜ì´ë“œë ˆì´ì…˜ê¹Œì§€ ì¼ì–´ë‚˜ê³  ë‚˜ë©´ ì •ìƒì ì¸ SPA ì•±ì˜ ëª¨ì–‘ì„ ê°–ì¶”ê²Œ ëœë‹¤. ì´ ì²­í¬ëŠ” ê¸°ì¡´ì˜ renderToStringì„ ëŒ€ì²´í•˜ëŠ” react-dom/server ì˜ `renderToPipeableStream`ì— ì˜í•´ ìŠ¤íŠ¸ë¦¬ë° í˜•íƒœë¡œ ì „ì†¡ëœë‹¤.

ì ì‹œ ì´í•´ë¥¼ ë•ê¸° ìœ„í•œ ì„¤ëª…ì„ ë§ë¶™ì—¬ ë³¸ë‹¤.

```tsx
const http = require("http");

// Next.js 13 ì„œë²„
http.get("http://locahost:3000", (res) => {
  res.on("data", (chunk) => {
    console.log("Received chunk: ", chunk.toString());
  });
});
```

![ì§ì ‘ í…ŒìŠ¤íŠ¸ í•´ë³¸ ìŠ¤íŠ¸ë¦¬ë° SSR chunkì˜ í˜•íƒœ](https://saengmotmi.netlify.app/static/cb5ac188e7949b64b4482a4fb6a18283/96220/image-6.png)

ì§ì ‘ í…ŒìŠ¤íŠ¸ í•´ë³¸ ìŠ¤íŠ¸ë¦¬ë° SSR chunkì˜ í˜•íƒœ

ì²­í¬ì˜ í¬ê¸°ëŠ” ì˜µì…˜ê°’ì¸ progressiveChunkSizeì˜ ê¸°ë³¸ê°’(12.8kb)ì— ë§ì¶°ì§€ëŠ”ë°, ì´ ì²­í¬ ì‚¬ì´ì¦ˆ ì •ë„ê°€ 3G í™˜ê²½ì˜ êµ¬í˜• ê¸°ê¸°ë¥¼ í¬í•¨í•˜ëŠ” ê³ ë ¤í–ˆì„ ë•Œ 500msì— í•œë²ˆì”© ì²­í¬ë¥¼ ë³´ë‚¸ë‹¤ëŠ” ë¦¬ì•¡íŠ¸ íŒ€ì˜ ëª©í‘œì— ë¶€í•©í•˜ëŠ” ìˆ˜ì¹˜([ê³µì‹ ë¬¸ì„œ](https://react.dev/reference/react-dom/server/renderToPipeableStream#parameters), [ì£¼ì„](https://github.com/facebook/react/blob/14c2be8dac2d5482fda8a0906a31d239df8551fc/packages/react-server/src/ReactFizzServer.js#L210-L225))ë¼ê³  í•œë‹¤.

í•˜ì§€ë§Œ ì•„ì§ ì„œë²„ ì¸¡ì—ì„œ API í˜¸ì¶œ ë“±ì„ ëë‚´ì§€ ëª»í•˜ê³  ëŒ€ê¸° ì¤‘ì¸ ë¶€ë¶„ì€ ë‚˜ì¤‘ì— ë‚ ì•„ì™€ì„œ ë¶™ì–´ì•¼ í•œë‹¤. í•˜ì§€ë§Œ ì–´ë–»ê²Œ? ìƒˆë¡œ ë‚ ì•„ì˜¨ ì²­í¬ì™€ ì´ë¯¸ ê·¸ë ¤ì§„ HTML ì‚¬ì´ì— ìì„ì´ë¼ë„ ìˆëŠ” ê²ƒì¼ê¹Œ?

ìì„ì€ ì—†ì§€ë§Œ ìì„ ë¹„ìŠ·í•œ ê±´ ìˆë‹¤. ë°”ë¡œ ì„œë²„ ì¸¡ ë Œë”ë§ ê³¼ì •ì—ì„œ â€˜ìŠ¤í‚µâ€™í–ˆë‹¤ê³  ì„¤ëª…í–ˆë˜ ë¶€ë¶„ì´ ê·¸ëƒ¥ ìŠ¤í‚µë˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ê·¸ë¦¼ì—ì„œ â€˜placeholderâ€™ë¼ê³  í‘œí˜„ë˜ì–´ ìˆê³  ìœ„ì—ì„œ ëª…ì„¸ë¥¼ ì‚´í´ë³¼ ë•Œ â€˜í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ê°€ ë Œë”ë§ë  ìœ„ì¹˜ì™€ í•´ë‹¹ ìë°”ìŠ¤í¬ë¦½íŠ¸ íŒŒì¼ì— ëŒ€í•œ ì°¸ì¡°ë¥¼ ìœ„í•œ ìë¦¬ í‘œì‹œìâ€™ ë¼ê³  í–ˆë˜ ë°”ë¡œ ê·¸ê²ƒìœ¼ë¡œ ëŒ€ì²´ëœë‹¤.

![ì²« ì‘ë‹µ HTML (with suspense placeholder)](image-3.png)

ì²« ì‘ë‹µ HTML (with suspense placeholder)

ì˜ˆì‹œë¥¼ ë³´ì. â€œë¡œë”© ì¤‘â€¦â€ì´ë¼ëŠ” ë¬¸ìì—´ê³¼ `template#B:0` ì¸ HTML íƒœê·¸ì™€ Suspense ê²½ê³„ë¥¼ ì˜ë¯¸í•˜ëŠ” `$?` ë“±ì˜ HTML ì£¼ì„ì´ ìœ„ì—ì„œ ì–¸ê¸‰í•œ ì²« HTML ì‘ë‹µì—ì„œ placeholderì— í•´ë‹¹í•˜ëŠ” ë¶€ë¶„ì´ë‹¤. ì¶”ê°€ë¡œ ë°›ì€ ì²­í¬ê°€ ì € ë¶€ë¶„ì„ ëŒ€ì²´í•˜ê²Œ ë  ê²ƒì´ë‹¤.

```jsx
const SUSPENSE_START_DATA = "$";
const SUSPENSE_END_DATA = "/$";
const SUSPENSE_PENDING_START_DATA = "$?";
const SUSPENSE_FALLBACK_START_DATA = "$!";
```

ì—¬ê¸°ì— ì„œë²„ì—ì„œ ì¶”ê°€ë¡œ ì „ì†¡ëœ ì²­í¬ë¥¼ í•¨ê»˜ ì‚´í´ë³¼ ì°¨ë¡€ë‹¤. ìš°ë¦¬ëŠ” ì§€ê¸ˆ HTMLì„ ìŠ¤íŠ¸ë¦¬ë° ì¤‘ì´ê¸° ë•Œë¬¸ì— ì¶”ê°€ë¡œ ì „ì†¡ë˜ëŠ” ë¬¸ìì—´ì€ HTML ë¬¸ì„œ í•˜ë‹¨ì— ì¶”ê°€ë¡œ ë¶™ê²Œ ëœë‹¤. ê·¸ëŸ°ë° ì´ ë¬¸ìì—´ì´ script íƒœê·¸ì´ë¯€ë¡œ ë¸Œë¼ìš°ì € ë Œë”ë§ ê³¼ì •ì—ì„œ ê·¸ ì•ˆì— í¬í•¨ë˜ì–´ ìˆëŠ” ìë°”ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œê°€ ì‹¤í–‰ëœë‹¤.

ì´ ë•Œ ì‹¤í–‰ë˜ëŠ” ì½”ë“œê°€ ë°”ë¡œ ì € placeholderë¥¼ êµì²´í•˜ëŠ” ë™ì‘ì„ í•œë‹¤. ì•„ë˜ ì½”ë“œ ê°€ì¥ í•˜ë‹¨ì˜ `replaceContent("B:0", "S:0");` ê°€ ë°”ë¡œ ê·¸ ë™ì‘ì— ëŒ€í•œ ì½”ë“œë‹¤. ì•„ê¹Œ ìœ„ì—ì„œ ë³´ì•˜ë˜ `B:0` ë¥¼ ìƒˆë¡œ ë°›ì•„ì˜¨ `S:0` ë¡œ êµì²´í•œë‹¤ëŠ” ì˜ë¯¸ë‹¤.

```jsx
<script>
    const replaceContent = function(targetID, removeID, newContent) {
        let removeElement = document.getElementById(removeID);
        removeElement.parentNode.removeChild(removeElement);

        let targetElement = document.getElementById(targetID);
        if (targetElement) {
            let prevSibling = targetElement.previousSibling;
            if (newContent) {
                prevSibling.data = "$!";
                targetElement.setAttribute("data-dgst", newContent);
            } else {
                let parentElement = prevSibling.parentNode;
                let nextSibling = prevSibling.nextSibling;
                let balance = 0;
                do {
                    if (nextSibling && 8 === nextSibling.nodeType) {
                        let siblingData = nextSibling.data;
                        if ("/$" === siblingData)
                            if (0 === balance)
                                break;
                            else
                                balance--;
                        else
                            "$" !== siblingData && "$?" !== siblingData && "$!" !== siblingData || balance++;
                    }
                    let nextSiblingCopy = nextSibling.nextSibling;
                    parentElement.removeChild(nextSibling);
                    nextSibling = nextSiblingCopy;
                } while (nextSibling);

                while (removeElement.firstChild) {
                    parentElement.insertBefore(removeElement.firstChild, nextSibling);
                }
                prevSibling.data = "$";
            }

            if(prevSibling._reactRetry) {
                prevSibling._reactRetry();
            }
        }
    };

    replaceContent("B:0", "S:0");
</script>
```

ìœ„ ìŠ¤í¬ë¦½íŠ¸ì˜ ë°”ë¡œ ì•„ë˜ì— `S:0` & hidden ì¸ íƒœê·¸ê°€ êµì²´ë˜ì–´ í™”ë©´ì— ë³´ì—¬ì§€ê¸°ë¥¼ ê¸°ë‹¤ë¦¬ê³  ìˆëŠ” ì¤‘ì„ì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤. ì°¸ê³ ë¡œ HTML íƒœê·¸ì˜ hidden ì†ì„±([ë§í¬](https://developer.mozilla.org/ko/docs/Web/HTML/Global_attributes/hidden))ì€ í•´ë‹¹ ì†ì„±ì´ ë¶™ì€ DOM ìš”ì†Œë¥¼ í™”ë©´ì— ê·¸ë¦¬ì§€ ì•ŠëŠ”ë‹¤.

![alt text](image-4.png)

ì²« ë Œë”ë§ê³¼ ì´í›„ ì²­í¬ì˜ êµì²´ ê³¼ì •ê¹Œì§€ ì´ë¤„ì§€ê³  ë‚˜ë©´ ê°™ì´ í™”ë©´ì´ ì™„ì„±ëœë‹¤.

Streaming SSR - TTFB ì§í›„

![Streaming SSR - ì¶”ê°€ Chunkë¥¼ ë°›ì•„ í˜ì´ì§€ë¥¼ ì™„ì„±](https://saengmotmi.netlify.app/static/0317d8e8a5c62c78571f7c83d3e2e649/78612/image-12.png)

Streaming SSR - ì¶”ê°€ Chunkë¥¼ ë°›ì•„ í˜ì´ì§€ë¥¼ ì™„ì„±

ì „ë°˜ì ì¸ ê³¼ì •ì€ ì´ëŸ¬í•œë° ì—¬ê¸°ì„œ ì¤‘ìš”í•œ ê°œë… í•˜ë‚˜ë¥¼ ìƒëµí–ˆë‹¤. ìœ„ì˜ ì˜ˆì‹œëŠ” ê·¸ë ¤ì§€ëŠ” í™”ë©´ ì…ì¥ì—ì„œì˜ ê²°ê³¼ë¬¼ë§Œ ë†“ê³  ì´ì•¼ê¸°ë¥¼ í•œ ê²ƒì¸ë°, ìš°ë¦¬ëŠ” ë¦¬ì•¡íŠ¸ë¥¼ ê°€ì§€ê³  í™”ë©´ì„ ê·¸ë¦¬ê³  ìˆë‹¤ëŠ” ì‚¬ì‹¤ì„ ë‹¤ì‹œ í•œë²ˆ ìƒê°í•´ë³¼ í•„ìš”ê°€ ìˆë‹¤.

ë¦¬ì•¡íŠ¸ ë Œë”ë§ ê³¼ì •ì˜ ê°€ì¥ ì¤‘ìš”í•œ í•µì‹¬ ì»¨ì…‰ì€ `1) ê°€ìƒë”(Virtual DOM)` 2) `ì¬ì¡°ì •(Reconciliation)` ì´ë‹¤. í•˜ì§€ë§Œ ì•ì—ì„œ ì‚´í´ë³¸ ë‚´ìš©ë“¤ì€ ê·¸ëƒ¥ JavaScript ì½”ë“œì™€ HTMLì´ì—ˆë‹¤.

ì›ë³¸ ì²­í¬ì— ëŒ€í•œ ìŠ¤í¬ë¦°ìƒ·ì„ ë‹¤ì‹œ ì˜ ì‚´í´ë³´ë©´ 1) HTML 2) ì •ì²´ ë¶ˆëª… ìë°”ìŠ¤í¬ë¦½íŠ¸ 3) ë°©ê¸ˆ ì‚´í´ë³¸ ì¶”ê°€ HTML + replaceContent í•¨ìˆ˜ì´ë‹¤. ê²°ë¡  ë¶€í„° ë§í•˜ìë©´ 2ëŠ” ì§ë ¬í™” ëœ ê°€ìƒë”ì´ê³ , ì´ ê°€ìƒë”ì´ í´ë¼ì´ì–¸íŠ¸ ì¸¡ì—ì„œ ë‹¤ì‹œ ì‹¤í–‰ë˜ë©´ì„œ ì„œë²„ ì¸¡ì—ì„œ ë Œë”ë§ í•˜ë˜ ë‚´ìš©ë“¤ì„ ì´ì–´ì„œ í´ë¼ì´ì–¸íŠ¸ ì¸¡ì˜ ë Œë”ë§ì„ ì´ì–´ê°ˆ ìˆ˜ ìˆê²Œ ë˜ëŠ” ê²ƒì´ë‹¤.

ì •ë¦¬í•˜ìë©´ ìë°”ìŠ¤í¬ë¦½íŠ¸ ê°ì²´ì˜ ì¤‘ì²©ìœ¼ë¡œ ë§Œë“¤ì–´ì§„ ë¦¬ì•¡íŠ¸ ê°€ìƒë”ì„ ì§ë ¬í™” í•´ì„œ í´ë¼ì´ì–¸íŠ¸ ì¸¡ìœ¼ë¡œ ë˜ì ¸ì£¼ê³ , í´ë¼ì´ì–¸íŠ¸ ì¸¡ì—ì„œëŠ” ê·¸ ì§ë ¬í™” ë˜ì—ˆë˜ ê°€ìƒë”ì„ íŒŒì‹±í•´ì„œ ë Œë”ë§ì„ ì¬ê°œí•˜ëŠ” ê²ƒì´ë‹¤.

ì´ê²Œ ë¬´ìŠ¨ ì†Œë¦¬ì¼ê¹Œ? ë¸”ë¡œê·¸ í¬ìŠ¤íŠ¸ì˜ ë‚´ìš©ì„ ë¹Œì–´ ì¢€ ë” ìì„¸íˆ ì‚´í´ë³´ì. ê°€ìƒë”ì´ë¼ëŠ” ê±´ ê²°êµ­ React.createElementì˜ ì‹¤í–‰ ê²°ê³¼ê°€ ì¤‘ì²©ëœ ê²°ê³¼ë¬¼ì´ë‹¤. ì•„ë˜ ê°ì²´ëŠ” `JSON.stringify()` ë¥¼ í†µí•´ ë¬¸ì œ ì—†ì´ ì§ë ¬í™” í•  ìˆ˜ ìˆë‹¤. ì°¸ê³ ë¡œ Symbolë„ ì§ë ¬í™”ê°€ ê°€ëŠ¥í•˜ë‹¤. ëŒ€ì‹  Symbolì„ íƒ€ì…ì„ ê·¸ëŒ€ë¡œ ìœ ì§€í•˜ì§€ëŠ” ëª»í•˜ê³  ì¼ë°˜ Objectë¡œ ì²˜ë¦¬([ë§í¬](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify#description))ëœë‹¤.

```jsx
// React element for <div>oh my</div>
> React.createElement("div", { title: "oh my" })
{
  $$typeof: Symbol(react.element),
  type: "div",
  props: { title: "oh my" },
  ...
}
```

í•˜ì§€ë§Œ ë§Œì•½ ê°€ìƒë” ê°ì²´ì˜ typeì´ ì¼ë°˜ HTML íƒœê·¸ê°€ ì•„ë‹ˆë¼ ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸ë¼ë©´ ì´ì•¼ê¸°ê°€ ë‹¬ë¼ì§„ë‹¤. ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸ëŠ” í•¨ìˆ˜(í˜¹ì€ í´ë˜ìŠ¤)ì´ê¸° ë•Œë¬¸ì— JSON í¬ë§·ìœ¼ë¡œ ê³§ì¥ ì§ë ¬í™”ê°€ ë¶ˆê°€ëŠ¥í•˜ë‹¤. ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸ ë¿ë§Œ ì•„ë‹ˆë¼ propsë¡œ ì „ë‹¬ë˜ëŠ” Promise ê°ì²´ ê°™ì€ ê²ƒë“¤ë„ ë™ì¼í•œ ì›ë¦¬ë¡œ ì§ë ¬í™”ê°€ ë¶ˆê°€ëŠ¥í•˜ë‹¤.

```jsx
// React element for <MyComponent>oh my</MyComponent>
> function MyComponent({children}) {
    return <div>{children}</div>;
  }
> React.createElement(MyComponent, { children: "oh my" });
{
  $$typeof: Symbol(react.element),
  type: MyComponent  // reference to the MyComponent function
  props: { children: "oh my" },
  ...
}
```

ê·¸ë˜ì„œ ì´ë ‡ê²Œ JSONìœ¼ë¡œ ì§ë ¬í™”ê°€ ë¶ˆê°€ëŠ¥í•œ ê²½ìš°ë¥¼ ì ì ˆíˆ ì²˜ë¦¬í•´ì£¼ëŠ” replace í•¨ìˆ˜ê°€ ì¡´ì¬([ë§í¬](https://github.com/facebook/react/blob/42c30e8b122841d7fe72e28e36848a6de1363b0c/packages/react-server/src/ReactFlightServer.js#L368))í•œë‹¤. ë¦¬ì•¡íŠ¸ ì»´í¬ë„Œí‹” ê²½ìš° í•¨ìˆ˜ë¥¼ ì§ì ‘ ì§ë ¬í™” í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ë²ˆë“¤ëŸ¬(ex. react-server-dom-webpack)ì™€ í˜ì„ í•©ì³ í•´ë‹¹ ì»´í¬ë„ŒíŠ¸ê°€ ì¡´ì¬í•˜ëŠ” íŒŒì¼ ê²½ë¡œë¥¼ ëŒ€ì‹  ë¼ì›Œë„£ëŠ”ë‹¤. ì´ëŸ° ë³€í™˜ì„ ê±°ì¹œ ê²°ê³¼ë¬¼ì€ ëŒ€ëµ ì•„ë˜ì™€ ê°™ì´ ì§ë ¬í™” ê°€ëŠ¥í•œ í˜•íƒœê°€ ëœë‹¤.

```jsx
{
  // The ClientComponent element placeholder with "module reference"
  $$typeof: Symbol(react.element),
  type: {
    $$typeof: Symbol(react.module.reference),
    name: "default",
    filename: "./src/ClientComponent.client.js"
  },
  props: {
    // children passed to ClientComponent, which was <ServerComponent />.
    children: {
      // ServerComponent gets directly rendered into html tags;
      // notice that there's no reference at all to the
      // ServerComponent - we're directly rendering the `span`.
      $$typeof: Symbol(react.element),
      type: "span",
      props: {
        children: "Hello from server land"
      }
    }
  }
}
```

í•˜ì§€ë§Œ ì§ë ¬í™” ëœ JSON ë¬¸ìì—´ ìì²´ë¡œëŠ” ìŠ¤íŠ¸ë¦¬ë°ì— ë¶€ì í•©í•˜ë‹¤. ì¢€ ë” ì²­í¬ ë‹¨ìœ„ë¡œ ë¶„í• í•´ë„ ê´œì°®ì€ í¬ë§·ì˜ ë°ì´í„° ì „ì†¡ ì–‘ì‹ì´ í•„ìš”í•˜ë‹¤.

ì—¬ê¸°ì—ì„œ RSCë§Œì˜ íŠ¹ìˆ˜í•œ ë°ì´í„° ì „ì†¡ í¬ë§·ì´ ë“±ì¥í•˜ê³ , ì•ì„œ ì ì‹œ ì–¸ê¸‰í–ˆë˜ â€˜response formatâ€™ì— í•´ë‹¹í•œë‹¤. ê° ì¤„ì€ í•˜ë‚˜ì˜ JSON Blob(Binary Large Object)ì´ ì¡´ì¬í•˜ê³ , ê°ê°ì˜ Blobì—ëŠ” ê³ ìœ í•œ IDê°€ ë¶€ì—¬ë˜ì–´ ìˆë‹¤.

```jsx
M1:{"id":"./src/ClientComponent.client.js","chunks":["client1"],"name":""}
J0:["$","@1",null,{"children":["$","span",null,{"children":"Hello from server land"}]}]
```

- `M`ìœ¼ë¡œ ì‹œì‘í•˜ëŠ” ì¤„ì€ í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ ëª¨ë“ˆ ì°¸ì¡°ë¥¼ ì •ì˜í•˜ë©°, í´ë¼ì´ì–¸íŠ¸ ë²ˆë“¤ì—ì„œ ì»´í¬ë„ŒíŠ¸ í•¨ìˆ˜ë¥¼ ì¡°íšŒí•˜ëŠ” ë° í•„ìš”í•œ ì •ë³´ë¥¼ í¬í•¨í•œë‹¤.

- `J`ë¡œ ì‹œì‘í•˜ëŠ” ì¤„ì€ ì‹¤ì œ React ìš”ì†Œ íŠ¸ë¦¬ë¥¼ ì •ì˜í•˜ê³ , `@1`ê³¼ ê°™ì€ ê²ƒë“¤ì€ `M` ì¤„ì— ì˜í•´ ì •ì˜ëœ í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ë¥¼ ì°¸ì¡°í•œë‹¤.

ì´ í¬ë§·ì€ ìµœì´ˆì˜ JSON ë¬¸ìì—´ì— ë¹„í•´ ìŠ¤íŠ¸ë¦¬ë°ì— ì í•©í•˜ë‹¤. í´ë¼ì´ì–¸íŠ¸ê°€ í•œ ì¤„ì„ ì „ë¶€ ì½ìœ¼ë©´ JSONì„ íŒŒì‹±í•˜ê³  í•„ìš”í•œ ë™ì‘ì„ í•  ìˆ˜ ìˆê²Œ ëœë‹¤.

ì‹¤ì œë¡œëŠ” ì–´ë–¨ê¹Œ? Next.js Docsë„ RSCë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì‘ì„±ëœ ì œí’ˆì´ë¯€ë¡œ Network íƒ­ì„ ì—´ì–´ë³´ë©´ ì´ëŸ¬í•œ ë°ì´í„° êµí™˜ ê³¼ì •ì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤. `/` ê²½ë¡œì— `?_rsc=` ë¼ëŠ” ì¿¼ë¦¬ìŠ¤íŠ¸ë§(ì´ ìš”ìƒí•œ ì¿¼ë¦¬ìŠ¤íŠ¸ë§ì— ëŒ€í•´ì„œëŠ” ë§¨ ë§ˆì§€ë§‰ì— ë” ìì„¸íˆ ì‚´í´ë³´ë„ë¡ í•œë‹¤)ì„ ë‹¬ì•„ ìš”ì²­ì„ ë³´ë‚´ë©´ ìœ„ì—ì„œ ì‚´í´ë³¸ RSC Payloadê°€ ìŠ¤íŠ¸ë¦¬ë° ê°€ëŠ¥í•œ ì‘ë‹µìœ¼ë¡œ ë‚´ë ¤ì˜¤ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

![alt text](image-5.png)

![alt text](image-6.png)

RSC Parser([ë§í¬](https://rsc-parser.vercel.app/))ë‚˜ Demystifying React Server Components with NextJS 13 App Router([ë§í¬](https://demystifying-rsc.vercel.app/client-components/details/)) ê°™ì€ í†µí•´ ì¢€ ë” RSC Payload ê´€ë ¨í•˜ì—¬ ìƒì„¸í•œ ì›ë¦¬ë¥¼ íŒŒì•…í•´ë³¼ ìˆ˜ ìˆìœ¼ë‹ˆ ì¶”ê°€ì ìœ¼ë¡œ ì•Œì•„ë³´ê³  ì‹¶ë‹¤ë©´ ì‚´í´ë³´ë©´ ì¢‹ì„ ê²ƒ ê°™ë‹¤.

ê¸°ë‚˜ê¸´ ê³¼ì •ì„ ê±°ì³ ì–´ë–»ê²Œ ì„œë²„ì—ì„œ ë Œë”ë§í•˜ì—¬ í´ë¼ì´ì–¸íŠ¸ë¡œ ë³´ë‚´ëŠ”ì§€ ê¹Œì§€ëŠ” ì‚´í´ë³´ì•˜ë‹¤. ì´ì œ ë§ˆì§€ë§‰ ë‹¨ê³„ê¹Œì§€ ì™”ë‹¤. ì„œë²„ì—ì„œ ë³´ë‚´ì¤€ ë°ì´í„°ë¥¼ ì–´ë–»ê²Œ ë˜ì‚´ë ¤ ê°€ìƒë”ìœ¼ë¡œ ê·¸ë¦¬ëŠ”ì§€ì— ëŒ€í•œ ë¶€ë¶„ì´ë‹¤.

ì´ ë¶€ë¶„ì€ ë¦¬ì•¡íŠ¸ì—ì„œ ì œê³µí•œ ë°ëª¨ ì½”ë“œ([ë§í¬](https://github.com/reactjs/server-components-demo))ë¥¼ ë³´ê³  ì´í•´í•˜ëŠ” ìª½ì´ ì •í™•í•  ê²ƒ ê°™ë‹¤.

```jsx
import {
  createFromFetch,
  createFromReadableStream,
} from "react-server-dom-webpack/client";

// ... ìƒëµ
export function Router() {
  const [cache, setCache] = useState(initialCache);
  const [location, setLocation] = useState({
    selectedId: null,
    isEditing: false,
    searchText: "",
  });

  const locationKey = JSON.stringify(location);
  let content = cache.get(locationKey);
  if (!content) {
    content = createFromFetch(
      fetch("/react?location=" + encodeURIComponent(locationKey))
    );
    cache.set(locationKey, content);
  }

  function refresh(response) {
    startTransition(() => {
      const nextCache = new Map();
      if (response != null) {
        const locationKey = response.headers.get("X-Location");
        const nextLocation = JSON.parse(locationKey);
        const nextContent = createFromReadableStream(response.body);
        nextCache.set(locationKey, nextContent);
        navigate(nextLocation);
      }
      setCache(nextCache);
    });
  }

  function navigate(nextLocation) {
    startTransition(() => {
      setLocation((loc) => ({
        ...loc,
        ...nextLocation,
      }));
    });
  }

  return (
    <RouterContext.Provider value={{ location, navigate, refresh }}>
      {use(content)}
    </RouterContext.Provider>
  );
}
```

í•µì‹¬ì€ `react-server-dom-webpack/client` ì—ì„œ ê°€ì ¸ì˜¨ `createFromFetch`, `createFromReadableStream`ì´ë‹¤. ì›¹íŒ©ì—ì„œ ì´ í•¨ìˆ˜ë“¤ì„ ì œê³µí•´ì•¼ í•˜ëŠ” ì´ìœ ëŠ” RSC Payloadì— ëª¨ë“ˆ ì°¸ì¡°(ì»´í¬ë„ŒíŠ¸ê°€ ì¡´ì¬í•˜ëŠ” ê²½ë¡œ ë“±)ê°€ í¬í•¨ë˜ì–´ ìˆê¸° ë•Œë¬¸ì¼ ê²ƒì´ë‹¤. ì‹¤ì œ ì‘ë™í•˜ëŠ” ì‹œë‚˜ë¦¬ì˜¤ë¥¼ ì‚´í´ë³´ì.

- ì²« í™”ë©´ì´ HTMLì„ ê¸°ë°˜ìœ¼ë¡œ ê·¸ë ¤ì§€ê³ , ì´í›„ ë¦¬ì•¡íŠ¸ ê´€ë ¨ ìë°”ìŠ¤í¬ë¦½íŠ¸ ë²ˆë“¤ì´ ì‹¤í–‰ëœë‹¤.
- `cache.get(locationKey)` ì—ì„œ ì´ë¯¸ ê°€ì ¸ì˜¨ RSC ì‘ë‹µì´ ìˆëŠ”ì§€ í™•ì¸í•œë‹¤.
- ì¡´ì¬í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´ `/react` ë¡œ ìš”ì²­ì„ ë³´ë‚´ RSC ì‘ë‹µì„ ë°›ì•„ì˜¨ë‹¤.
  - ë°›ì•„ì˜¤ëŠ” ë™ì•ˆì€ pending ìƒíƒœì˜ Promise ê°ì²´ì¼ ê²ƒì´ë¯€ë¡œ `use()` ë¡œ Suspenseë¥¼ íŠ¸ë¦¬ê±° í•œë‹¤.
  - ì‘ë‹µì„ ë‹¤ ë°›ê³  ë‚˜ë©´ ì´ë¥¼ createFromFetchë¥¼ í†µí•´ íŒŒì‹±í•˜ì—¬ ê°€ìƒë” í˜•íƒœë¡œ ë§Œë“ ë‹¤. ê·¸ë¦¬ê³  ì´ ê²°ê³¼ë¬¼ì„ ìºì‹œì— ì €ì¥í•˜ê³  í™”ë©´ì— ê·¸ë¦°ë‹¤.
- ìºì‹œì— RSC ì‘ë‹µì´ ì´ë¯¸ ì¡´ì¬í•œë‹¤ë©´ í•´ë‹¹ ê²°ê³¼ë¬¼ì„ í™”ë©´ì— ê·¸ë¦°ë‹¤.
- navigate í•¨ìˆ˜ë¥¼ í†µí•´ ê²½ë¡œë¥¼ ì „í™˜í•  ê²½ìš° ìœ„ì˜ ê³¼ì •ì„ ë‹¤ì‹œ í•œë²ˆ ê±°ì¹œ ë‹¤ìŒ í™”ë©´ì„ ê·¸ë¦°ë‹¤.
- refresh í•¨ìˆ˜(useMutationì—ì„œ ì“°ì„, ë¸Œë¼ìš°ì € í•˜ë“œ ë¦¬í”„ë ˆì‹œì™€ëŠ” ë‹¤ë¦„)ë¥¼ í†µí•´ í™”ë©´ ì „ì²´ë¥¼ ë‹¤ì‹œ ê·¸ë¦´ ê²½ìš°, HTML ì „ì²´ë¥¼ ë°›ì•„ì˜¤ì§€ëŠ” ì•Šê³  `createFromReadableStream` ë¥¼ í†µí•´ RSC ì‘ë‹µì„ ìŠ¤íŠ¸ë¦¬ë° í•˜ì—¬ ë°›ì•„ì˜¤ê³  ìºì‹œì— ì €ì¥ í›„ í™”ë©´ì— ê·¸ë¦°ë‹¤.

RSCì˜ ê´€ë ¨ êµ¬í˜„ì´ ë¼ìš°í„°ì™€ í•¨ê»˜ ê²°í•©ë˜ì–´ ìˆëŠ” ì§€ì ë„ ì¤‘ìš”í•œ í¬ì¸íŠ¸ë‹¤. ê²°êµ­ í™”ë©´ì´ ë³€ê²½ë˜ê³  ìƒˆë¡œìš´ ì²­í¬ê°€ í•„ìš”í•œ ì‹œì ì€ ëŒ€ë¶€ë¶„ ê²½ë¡œê°€ ë³€ê²½ë˜ê±°ë‚˜ í™”ë©´ì´ ë¦¬í”„ë ˆì‹œ ë˜ì—ˆì„ ê²½ìš°ê°€ ëŒ€ë¶€ë¶„ì¼ ê²ƒì´ê¸° ë•Œë¬¸ì´ë‹¤. ë¦¬ì•¡íŠ¸ì—ì„œ RSCë¥¼ ì†Œê°œí•˜ë©° ë¼ìš°í„°ì™€ ë²ˆë“¤ëŸ¬ì™€ì˜ í†µí•©, ì´ë¥¼ í¬í•¨í•˜ëŠ” í”„ë ˆì„ì›Œí¬ì˜ í•„ìš”ì„±ì„ ê°•ì¡°í•œ ì´ìœ ì´ê¸°ë„ í•˜ë‹¤.

ì—¬ê¸°ê¹Œì§€ì˜ ê³¼ì •ì„ ê±°ì¹˜ë©´ ì•„ë˜ì™€ ê°™ì€ ì„œë²„ - í´ë¼ì´ì–¸íŠ¸ê°€ ì™„ë²½íˆ í†µí•©ëœ ê²°ê³¼ë¬¼ì˜ í™”ë©´ì´ ê·¸ë ¤ì§€ê²Œ ëœë‹¤.

![alt text](image-7.png)

### 2-3) RSC From Scratch. Part 1: Server Components (Dan Abramov)

ìœ„ì—ì„œ ì„¤ëª…í•œ ë‚´ìš©ìœ¼ë¡œ RSC ê´€ë ¨í•œ ê±°ì˜ ëŒ€ë¶€ë¶„ì˜ ë‚´ìš©ì„ ì „ë‹¬í–ˆì§€ë§Œ ë§ˆì§€ë§‰ ë¸”ë™ë°•ìŠ¤ í•˜ë‚˜ë§Œ ë” ì—´ì–´ë³´ë ¤ê³  í•œë‹¤. RSC ë°ëª¨ ì½”ë“œì—ì„œ `/react?` ë¡œ í‘œí˜„ë˜ì—ˆë˜ ì •ì²´ë¶ˆëª…ì˜ ì—”ë“œí¬ì¸íŠ¸ì— ëŒ€í•œ ë‚´ìš©ì´ë‹¤.

Dan AbramovëŠ” RSCì— ëŒ€í•´ ì„¤ëª…í•˜ê¸° ìœ„í•´ ì„¸ìƒì— í´ë¼ì´ì–¸íŠ¸ ì „ìš© ë¦¬ì•¡íŠ¸ê°€ ì¡´ì¬í•œ ì ì´ ì—†ì—ˆë‹¤ëŠ” ì „ì œí•˜ì— ì„œë²„ ì»´í¬ë„ŒíŠ¸ë¥¼ ì¤‘ì‹¬ìœ¼ë¡œ ë¦¬ì•¡íŠ¸ì˜ ë Œë”ë§ ë¡œì§(JSX, ì»´í¬ë„ŒíŠ¸, ë¼ìš°íŒ…, RSC ì„œë²„, â€¦)ì„ ë°”ë‹¥ë¶€í„° ìŒ“ì•„ì˜¬ë¦¬ëŠ” ì˜ˆì œ([ë§í¬](https://github.com/reactwg/server-components/discussions/5), [í•œêµ­ì–´ ë²ˆì—­](https://velog.io/@glassfrog8256/%EB%B2%88%EC%97%AD-RSC-From-Scratch.-Part-1-Server-Components#step-63-%EC%84%9C%EB%B2%84%EB%A5%BC-%EB%91%90%EA%B0%9C%EB%A1%9C-%EB%82%98%EB%88%95%EC%8B%9C%EB%8B%A4))ë¥¼ ë³´ì—¬ì¤€ë‹¤.

ì—¬ê¸°ì„œ ëˆˆì—¬ê²¨ë´ì•¼ í•˜ëŠ” ë¶€ë¶„ì€ ì´ ë¶€ë¶„ì´ë‹¤.

> ì´ì „ ë‹¨ê³„ì—ì„œ, ì‹¤í–‰ ì¤‘ì¸ ì»´í¬ë„ŒíŠ¸ê°€ HTMLì„ ìƒì„±í•˜ì§€ ì•Šë„ë¡ ë¶„ë¦¬í–ˆìŠµë‹ˆë‹¤.
>
> - ë¨¼ì €Â `renderJSXToClientJSX`Â ëŠ” ì»´í¬ë„ŒíŠ¸ë“¤ì´ í´ë¼ì´ì–¸íŠ¸ JSXë¥¼ ìƒì„±í•˜ë„ë¡ í•©ë‹ˆë‹¤.
>
> - ì´í›„ì—, ë¦¬ì•¡íŠ¸ì˜Â `renderToString`Â ì´ í´ë¼ì´ì–¸íŠ¸ JSXë¥¼ HTMLë¡œ ë³€ê²½í•©ë‹ˆë‹¤.
>
> ì„œë¡œ ë…ë¦½ì ì¸ ë™ì‘ì´ê¸° ë•Œë¬¸ì—, ì´ë“¤ì„ ê°™ì€ ì ˆì°¨, í˜¹ì€ ê°™ì€ ë¨¸ì‹ (ì»´í“¨í„°)ì—ì„œ ì™„ë£Œ ë  í•„ìš”ê°€ ì—†ìŠµë‹ˆë‹¤.
>
> ì´ë¥¼ ì¦ëª…í•˜ê¸° ìœ„í•´,Â `server.js`Â ë¥¼ 2ê°œì˜ íŒŒì¼ë¡œ ë‚˜ëˆ•ì‹œë‹¤.
>
> - `server/rsc.js`Â : ì´ ì„œë²„ëŠ” ìš°ë¦¬ì˜ ì»´í¬ë„ŒíŠ¸ë“¤ì„ ì‹¤í–‰ì‹œí‚µë‹ˆë‹¤. í•­ìƒ JSXë¥¼ ë¦¬í„´í•˜ë©° HTMLì„ ë¦¬í„´í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ë§Œì•½ ì»´í¬ë„ŒíŠ¸ë“¤ì´ ë°ì´í„°ë² ì´ìŠ¤ì— ì ‘ê·¼í•œë‹¤ë©´, ì§€ì—°ì‹œê°„ ê°ì†Œë¥¼ ìœ„í•´ ì„œë²„ë¥¼ ë°ì´í„° ì„¼í„°ì™€ ê°€ê¹Œìš´ë°ì„œ ì‹¤í–‰í•˜ëŠ”ê²Œ ì¢‹ìŠµë‹ˆë‹¤.
>
> - `server/ssr.js`Â : ì´ ì„œë²„ëŠ” HTMLì„ ë§Œë“¤ì–´ ëƒ…ë‹ˆë‹¤. HTMLì„ ë§Œë“¤ê³ , ì •ì  íŒŒì¼ë“¤ì„ ì œê³µí•˜ê¸° ìœ„í•´ "edge" ì—ì„œ ì‹¤í–‰ ì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

react-server-dom-webpack/clientì—ì„œ `createFromFetch`, `createFromReadableStream` ë¼ëŠ” í•¨ìˆ˜ ë‘ ê°€ì§€ë¥¼ ì œê³µí–ˆì—ˆìŒì„ ê¸°ì–µí•˜ê³ , ìœ„ì—ì„œ ì–¸ê¸‰í•˜ëŠ” `ssr.js` ë¥¼ ë¨¼ì € ì‚´í´ë³´ì.

```tsx
// server/ssr.js

createServer(async (req, res) => {
  try {
    const url = new URL(req.url, `http://${req.headers.host}`);
    if (url.pathname === "/client.js") {
      // ...
    }
    // RSC ì„œë²„ë¡œ ë¶€í„° ì§ë ¬í™” ëœ JSXë¥¼ ì–»ìŠµë‹ˆë‹¤.
    const response = await fetch("http://127.0.0.1:8081" + url.pathname);
    if (!response.ok) {
      res.statusCode = response.status;
      res.end();
      return;
    }
    const clientJSXString = await response.text();
    if (url.searchParams.has("jsx")) {
      // ìœ ì €ê°€ í˜ì´ì§€ ê°„ ì´ë™ì¤‘ì´ë¼ë©´, ì§ë ¬í™” ëœ JSXë¥¼ ê·¸ëŒ€ë¡œ ë³´ë‚´ì¤ë‹ˆë‹¤.
      res.setHeader("Content-Type", "application/json");
      res.end(clientJSXString);
    } else {
      // ì´ˆê¸° í˜ì´ì§€ ë¡œë“œ ìƒí™©ì´ë¼ë©´, íŠ¸ë¦¬ë¥¼ ë³µêµ¬í•˜ê³  HTMLë¡œ ë§Œë“­ë‹ˆë‹¤.
      const clientJSX = JSON.parse(clientJSXString, parseJSX);
      let html = renderToString(clientJSX);
      html += `<script>window.__INITIAL_CLIENT_JSX_STRING__ = `;
      html += JSON.stringify(clientJSXString).replace(/</g, "\\u003c");
      html += `</script>`;
      // ...
      res.setHeader("Content-Type", "text/html");
      res.end(html);
    }
  } catch (err) {
    // ...
  }
}).listen(8080);
```

ì˜ˆì œì˜ `http://127.0.0.1:8081` ì€ inputì´ ê²½ë¡œì´ê³  ì‘ë‹µì´ ì§ë ¬í™” ëœ ê°€ìƒë”(JSON ë¬¸ìì—´ í™” ëœ JSX)ì¸ RSC ë Œë”ë§ ì„œë²„ì´ë‹¤.

ì‘ë‹µì„ ì–»ê³  ë‚˜ë©´ ì´ì œ ì´ê²ƒì„ ê·¸ëŒ€ë¡œ ë‚´ë³´ë‚¼ ê²ƒì¸ì§€, ì•„ë‹ˆë©´ HTMLë¡œ êµ¬ì›Œì„œ ë³´ë‚¼ ê²ƒì¸ì§€ë¥¼ ì„ íƒí•  ì°¨ë¡€ë‹¤. ì´ ì˜ˆì œ ì½”ë“œì—ì„œ `?jsx` ë¥¼ ê¸°ì¤€ìœ¼ë¡œ(í˜„ì¬ ê¸°ì¤€ìœ¼ë¡œëŠ” `?_rsc`) RSC Payloadë¥¼ ë³´ë‚´ê±°ë‚˜, ì•„ë‹ˆë©´ HTMLë¡œ ë‚´ë³´ë‚´ê±°ë‚˜ í•˜ëŠ” ë¶„ê¸°ë¥¼ ì²˜ë¦¬í•˜ê³  ìˆë‹¤.

## 3. ë§ˆë¬´ë¦¬

ê¸€ì´ ì—„ì²­ë‚˜ê²Œ ê¸¸ì–´ì¡Œë‹¤. ì‚¬ì‹¤ ë‚´ê°€ ì‘ì„±í•œ ê¸€ì´ ë§ì•˜ë‹¤ê¸° ë³´ë‹¤ëŠ” ì´ëŸ°ì €ëŸ° ìë£Œë¥¼ ì¸ìš©ìœ¼ë¡œ ê¸ì–´ëª¨ìœ¼ë©´ì„œ ë¶„ëŸ‰ì´ ë»¥íŠ€ê¸° ëœ ê°ì´ ì—†ì–ì•„ ìˆì§€ë§Œ, ì¤‘ìš”í•œ ê²ƒì€ RSCì˜ êµ¬í˜„ì´ ì–´ë–¤ ë™ì‘ê³¼ ì›ë¦¬ë¥¼ ê¹”ê³  ëŒì•„ê°€ê³  ìˆëŠ”ì§€ ê·¸ íë¦„ì„ ë¯¸ì‹±ë§í¬ ì—†ì´ ë”°ë¼ê°€ëŠ” ê²ƒì´ì—ˆë‹¤.

RSCëŠ” ê¸°ë³¸ì ìœ¼ë¡œ `ì„œë²„ì—ì„œë§Œ` ì‹¤í–‰ë˜ëŠ” ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸ë‹¤. í•˜ì§€ë§Œ ê·¸ê²ƒë§Œìœ¼ë¡œ ë‹¤ ì„¤ëª…ë˜ëŠ” ê°œë…ì€ ì•„ë‹ˆë‹¤. RSC êµ¬í˜„ì„ ìœ„í•´ì„œëŠ” RSC í˜ì´ë¡œë“œë¥¼ ìƒì„±í•˜ì—¬ ë³´ë‚´ê³ , ë˜ ë°›ì•„ì„œ ê°€ìƒë” ì—…ë°ì´íŠ¸ë¥¼ ì´ì–´ê°ˆ ìˆ˜ ìˆì–´ì•¼ í•œë‹¤. ESMì´ë‚˜ ì„œë¹„ìŠ¤ ì›Œì»¤ ë“±ì„ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ë„ ìˆê² ìœ¼ë‚˜, ê¸°ë³¸ì ìœ¼ë¡œëŠ” ë¼ìš°í„°ì™€ ë²ˆë“¤ëŸ¬ì˜ ë„ì›€ì´ í•„ìš”í•œ ì´ìœ ë‹¤.

ë†€ëê²Œë„ ì•„ì§ Request Waterfallì´ë‚˜ `React.cache()` ë° Next.jsì˜ `RSC Cache` ê´€ë ¨í•œ ë‚´ìš©ì´ë‚˜ RSC PayloadëŠ” ì–´ì§¸ì„œ í”„ë¡œí† ì½œì´ë¼ëŠ” ê´€ì ì—ì„œ HTMXì™€ ê°™ì€ ì„ ìƒì— ë†“ê³  ë¹„êµê°€ ë˜ëŠ”ì§€ì— ëŒ€í•´ì„œëŠ” ì œëŒ€ë¡œ ì–¸ê¸‰í•˜ì§€ ëª»í–ˆë‹¤.

í•˜ì§€ë§Œ ì—¬ê¸°ê¹Œì§€ ì •ë¦¬í•˜ëŠ” ê²ƒë§Œìœ¼ë¡œë„ ë„ˆë¬´ë‚˜ë„ ë¨¸ë¦¬ê°€ ì•„í”„ê³  í˜ë“¤ê¸°ì— 23ë…„ 5ì›” ì¯¤ ë¶€í„° ì´ì–´ì˜¨ RSC ê´€ë ¨ ê³µë¶€ëŠ” ì—¬ê¸°ì„œ ì ì‹œ ë§ˆë¬´ë¦¬ë¥¼ ì§“ê¸°ë¡œ í•˜ë©°, ì˜¤ëŠ˜ì˜ ì •ë¦¬ë¥¼ í†µí•´ ì–»ì€ ì •ë³´ë“¤ì„ ê¸°ë°˜ìœ¼ë¡œ RSCì— ëŒ€í•œ ì •ì˜ë¥¼ ë‚´ë ¤ë³¸ë‹¤. ë!

> ğŸ“– React Server ComponentsëŠ” **1) ì„œë²„ì—ì„œë§Œ ì‹¤í–‰ë˜ëŠ” ì»´í¬ë„ŒíŠ¸**ì´ë©°, **2) RSC Payloadë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì„œë²„ì™€ í´ë¼ì´ì–¸íŠ¸ë¥¼ í†µí•©(w/ ë²ˆë“¤ëŸ¬, ë¼ìš°í„°)í•˜ëŠ” ë Œë”ë§ ë©”ì»¤ë‹ˆì¦˜**ì´ê¸°ë„ í•˜ë‹¤.
